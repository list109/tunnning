{"version":3,"sources":["mocks/mockAuthState.js","components/SearchBar/SearchBar.js","components/Icons/Icons.js","components/Track/Track.js","components/TrackList/TrackList.js","components/SearchResults/SearchResults.js","components/Player/Player.js","components/CurrentPlaylist/CurrentPlaylist.js","components/Playlist/Playlist.js","components/UserPlaylists/UserPlaylists.js","components/Playlists/Playlists.js","utils/Spotify.js","components/App/App.js","index.js","mocks/urls.js","mocks/mockedData.js","mocks/endpoints/search.js","mocks/endpoints/userPlaylists.js","mocks/endpoints/rename.js","mocks/endpoints/save.js","mocks/handlers.js","mocks/browser.js"],"names":["localStorage","setItem","Date","now","SearchBar","searchTerm","onChange","onSearch","onKeyDown","isSearching","validation","className","search","value","placeholder","target","code","onClick","Icons","play","viewBox","xmlns","d","pause","forward","next","rewind","volume","mute","undo","remove","playlists","loading","edit","replace","reload","handle","get","iconName","w","h","this","Track","track","isRemoval","onMovement","onPlayButton","playingTrackID","index","name","artists","album","isRepeated","id","handleMoveTrack","handlePlayButton","draggableId","provided","snapshot","isDragging","ref","innerRef","draggableProps","type","dragHandleProps","getMessage","tracksLength","isDraggingOver","draggingFromThisWith","TrackList","tracks","onAdd","onRemove","droppableId","isDropDisabled","droppableProps","map","length","SearchResults","containerRef","React","createRef","props","results","icon","trackList","container","current","setTimeout","classList","add","Component","Player","state","muted","currentPosition","playerRef","volRef","playbackRef","player","Audio","preview_url","handleRewindClick","readyState","currentTime","seeking","rewoundTime","Math","max","handlePlayClick","handleNextClick","onNextButton","handleForwardClick","duration","forwardTime","min","handlePlaybackClick","e","fraction","getFraction","toFixed","onloadedmetadata","handleMuteClick","isMuted","setState","handleVolumeClick","handleTimeUpdate","handleEnded","onPlayEnded","child","currentTarget","clientX","left","getBoundingClientRect","offsetWidth","seconds","_passed","floor","_total","convertToTimeFormat","Number","parseInt","item","join","paused","songName","title","passed","total","style","width","oncanplay","catch","error","console","log","onplaying","ontimeupdate","onseeking","onseeked","onemptied","onended","prevProps","src","load","ended","dir","CurrentPlaylist","playlistRef","disableUndo","onUndo","onRemoveTrack","onNameChange","onSave","isSaving","disabled","playlist","height","offsetHeight","ontransitionend","propertyName","prevTracks","clientHeight","scrollHeight","prevHeight","getComputedStyle","getPropertyValue","Playlist","onRename","isRenaming","headerRef","buttonRef","header","contentEditable","isContentEditable","focus","selection","getSelection","removeAllRanges","collapse","firstChild","onBlur","rel","relatedTarget","contains","textContent","prevName","onKeyPress","key","UserPlaylists","resizeContainer","prevIsToggled","isToggled","prevPlaylists","noToggle","noChange","message","onLoad","content","getPlaylistsTemplate","onRenamePlaylist","startLoading","changeClasses","Playlists","togglePlaylists","playlistName","defaultName","playlistTracks","onUndoPlaylist","onSavePlaylist","userPlaylists","onLoadPlaylists","isLoading","Spotify","urls","authorize","api","getUrl","endpoint","token","stateLength","searchTrack","term","getAccessToken","url","URL","searchParams","set","options","headers","getRequestHeaders","fetchJson","items","savePlaylist","trackURIs","getUserId","userId","createPlaylist","playlistResponse","saveTracks","method","body","JSON","stringify","getPlaylists","renamePlaylist","fetch","response","SpotifyError","status","object","statusText","ok","jsonResponse","json","storedToken","getItem","storedExpiration","getHashParams","access_token","expiration","expires_in","storedState","removeItem","window","history","replaceState","location","origin","redirectToAuthorization","matches","hash","slice","params","regex","exec","decodeURIComponent","generateRandomState","stateLenght","encodeURIComponent","possible","randomString","i","random","Authorization","Error","App","searchResults","playingTrack","handleTermChange","getEnterDownHandler","callback","keyValue","then","err","finally","addTrack","filter","removeTrack","updatePlaylistName","savedPlaylist","undoPlaylist","loadUserPlaylists","renameUserPlaylist","targetPlaylist","find","successfulRequest","Boolean","trackPlayButton","pauseUpdate","playingTrackUpdate","Object","assign","playerPlayButton","playerNextButton","lists","keys","findIndex","nextTrack","playerPlayEnded","onDragStart","start","onDragUpdate","update","onDragEnd","ending","destination","source","sourceId","sourceIndex","destId","destIndex","draggable","sourceState","Array","from","splice","destState","sourceDroppable","a","pathname","require","worker","serviceWorker","ReactDOM","render","StrictMode","document","getElementById","main","data","handler","rest","req","res","ctx","delay","put","requestId","errorMessage","handlers","post","String","push","createdPlaylist","split","concat","rename","all","passthrough","setupWorker"],"mappings":"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","file":"static/js/main.806db6ce.chunk.js","sourcesContent":["localStorage.setItem(\"token\", \"validToken\");\r\nlocalStorage.setItem(\"expiration\", 1e10 + Date.now());\r\n","import React from \"react\";\nimport \"./SearchBar.css\";\n\nexport function SearchBar({\n  searchTerm,\n  onChange,\n  onSearch,\n  onKeyDown,\n  isSearching,\n  validation,\n}) {\n  const handleChange = ({ target }) => onChange(target.value);\n  const handleKeyDown = ({ code }) => onKeyDown(code);\n\n  return (\n    <div className=\"SearchBar\">\n      <div className={`SearchBox ${validation.search ? \"\" : \" invalid\"}`}>\n        <input\n          value={searchTerm}\n          placeholder=\"Enter A Song, Album, or Artist\"\n          onChange={handleChange}\n          onKeyDown={handleKeyDown}\n        />\n      </div>\n      <button\n        className={`SearchButton${isSearching ? \" searching\" : \"\"}`}\n        onClick={onSearch}\n      >\n        SEARCH\n      </button>\n    </div>\n  );\n}\n","import React from \"react\";\r\n\r\nexport const Icons = {\r\n  play: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>play</title>\r\n      <path d=\"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13zM12 9l12 7-12 7z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  pause: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>pause</title>\r\n      <path d=\"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13zM10 10h4v12h-4zM18 10h4v12h-4z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  forward: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>forward</title>\r\n      <path d=\"M13.219 15.188q0 0.328 0.469 0.328 0.234 0 0.328-0.094l0.188-0.234q0.094-0.188 0.094-0.281v-2.016q-0.094-0.188-0.094-0.281t-0.211-0.211-0.305-0.117q-0.141 0-0.281 0.141l-0.188 0.188q-0.141 0.188-0.141 0.281v2.016q0.141 0.188 0.141 0.281zM15.094 14.203q0 0.609-0.094 0.797l-0.281 0.609q-0.328 0.281-0.516 0.281-0.094 0-0.305 0.047t-0.305 0.047q-0.422 0-0.609-0.094-0.094-0.047-0.234-0.141t-0.234-0.141q-0.422-0.234-0.422-1.406v-0.703q0-0.609 0.094-0.797l0.328-0.609q0.281-0.281 0.469-0.281 0.094 0 0.305-0.047t0.305-0.047q0.422 0 0.609 0.094 0.094 0.047 0.258 0.141t0.258 0.141 0.281 0.609q0.094 0.281 0.094 0.797v0.703zM10.922 15.984h-0.938v-3.281l-0.984 0.281v-0.703l1.781-0.563h0.141v4.266zM3.984 12.984q0-3.281 2.344-5.625t5.672-2.344v-4.031l5.016 5.016-5.016 5.016v-4.031q-2.438 0-4.219 1.758t-1.781 4.242 1.781 4.242 4.219 1.758 4.219-1.758 1.781-4.242h2.016q0 3.328-2.367 5.672t-5.648 2.344-5.648-2.344-2.367-5.672z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  next: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>next</title>\r\n      <path d=\"M24 4v24h-4v-11l-10 10v-22l10 10v-11z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  rewind: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>rewind</title>\r\n      <path d=\"M13.219 15.188q0 0.328 0.469 0.328 0.234 0 0.328-0.094l0.188-0.234q0.094-0.188 0.094-0.281v-2.016q-0.094-0.188-0.094-0.281t-0.211-0.211-0.305-0.117q-0.141 0-0.281 0.141l-0.188 0.188q-0.141 0.188-0.141 0.281v2.016q0.141 0.188 0.141 0.281zM15.188 14.203q0 0.609-0.094 0.797l-0.281 0.609q-0.328 0.281-0.516 0.281-0.094 0-0.305 0.047t-0.305 0.047q-0.422 0-0.609-0.094-0.094-0.047-0.234-0.141t-0.234-0.141q-0.422-0.234-0.422-1.406v-0.703q0-0.609 0.094-0.797l0.328-0.609q0.281-0.281 0.469-0.281 0.094 0 0.305-0.047t0.305-0.047q0.422 0 0.609 0.094 0.094 0.047 0.258 0.141t0.258 0.141 0.281 0.609q0.094 0.281 0.094 0.797v0.703zM10.922 15.984h-0.938v-3.281l-0.984 0.281v-0.703l1.781-0.563h0.141v4.266zM12 5.016q3.328 0 5.672 2.344t2.344 5.625q0 3.328-2.367 5.672t-5.648 2.344-5.648-2.344-2.367-5.672h2.016q0 2.484 1.781 4.242t4.219 1.758 4.219-1.758 1.781-4.242-1.781-4.242-4.219-1.758v4.031l-5.016-5.016 5.016-5.016v4.031z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  volume: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>volume</title>\r\n      <path d=\"M22.485 25.985c-0.384 0-0.768-0.146-1.061-0.439-0.586-0.586-0.586-1.535 0-2.121 4.094-4.094 4.094-10.755 0-14.849-0.586-0.586-0.586-1.536 0-2.121s1.536-0.586 2.121 0c2.55 2.55 3.954 5.94 3.954 9.546s-1.404 6.996-3.954 9.546c-0.293 0.293-0.677 0.439-1.061 0.439v0zM17.157 23.157c-0.384 0-0.768-0.146-1.061-0.439-0.586-0.586-0.586-1.535 0-2.121 2.534-2.534 2.534-6.658 0-9.192-0.586-0.586-0.586-1.536 0-2.121s1.535-0.586 2.121 0c3.704 3.704 3.704 9.731 0 13.435-0.293 0.293-0.677 0.439-1.061 0.439z\"></path>\r\n      <path d=\"M13 30c-0.26 0-0.516-0.102-0.707-0.293l-7.707-7.707h-3.586c-0.552 0-1-0.448-1-1v-10c0-0.552 0.448-1 1-1h3.586l7.707-7.707c0.286-0.286 0.716-0.372 1.090-0.217s0.617 0.519 0.617 0.924v26c0 0.404-0.244 0.769-0.617 0.924-0.124 0.051-0.254 0.076-0.383 0.076z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  mute: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>mute</title>\r\n      <path d=\"M30 19.348v2.652h-2.652l-3.348-3.348-3.348 3.348h-2.652v-2.652l3.348-3.348-3.348-3.348v-2.652h2.652l3.348 3.348 3.348-3.348h2.652v2.652l-3.348 3.348 3.348 3.348z\"></path>\r\n      <path d=\"M13 30c-0.26 0-0.516-0.102-0.707-0.293l-7.707-7.707h-3.586c-0.552 0-1-0.448-1-1v-10c0-0.552 0.448-1 1-1h3.586l7.707-7.707c0.286-0.286 0.716-0.372 1.090-0.217s0.617 0.519 0.617 0.924v26c0 0.404-0.244 0.769-0.617 0.924-0.124 0.051-0.254 0.076-0.383 0.076z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  undo: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>undo</title>\r\n      <path d=\"M28 8v20h-24v-4h20v-12h-6.071l3.657 3.66-2.828 2.83-8.485-8.484 8.485-8.485 2.828 2.826-3.657 3.653h10.071z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  remove: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>remove playlist</title>\r\n      <path d=\"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13z\"></path>\r\n      <path d=\"M21 8l-5 5-5-5-3 3 5 5-5 5 3 3 5-5 5 5 3-3-5-5 5-5z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  playlists: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>personal playlists</title>\r\n      <path d=\"M16 17c0 1.657-1.343 3-3 3v0h-2c-1.657 0-3-1.343-3-3s1.343-3 3-3v0h2c0.001 0 0.003 0 0.004 0 0.357 0 0.699 0.062 1.016 0.177l-0.021-0.007v-13.17l6-1v4l-4 0.67v12.33zM0 3h12v2h-12v-2zM0 7h12v2h-12v-2zM0 11h12v2h-12v-2zM0 15h6v2h-6v-2z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  loading: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>loading</title>\r\n      <path d=\"M32 16c-0.040-2.089-0.493-4.172-1.331-6.077-0.834-1.906-2.046-3.633-3.533-5.060-1.486-1.428-3.248-2.557-5.156-3.302-1.906-0.748-3.956-1.105-5.981-1.061-2.025 0.040-4.042 0.48-5.885 1.292-1.845 0.809-3.517 1.983-4.898 3.424s-2.474 3.147-3.193 4.994c-0.722 1.846-1.067 3.829-1.023 5.79 0.040 1.961 0.468 3.911 1.254 5.694 0.784 1.784 1.921 3.401 3.316 4.736 1.394 1.336 3.046 2.391 4.832 3.085 1.785 0.697 3.701 1.028 5.598 0.985 1.897-0.040 3.78-0.455 5.502-1.216 1.723-0.759 3.285-1.859 4.574-3.208 1.29-1.348 2.308-2.945 2.977-4.67 0.407-1.046 0.684-2.137 0.829-3.244 0.039 0.002 0.078 0.004 0.118 0.004 1.105 0 2-0.895 2-2 0-0.056-0.003-0.112-0.007-0.167h0.007zM28.822 21.311c-0.733 1.663-1.796 3.169-3.099 4.412s-2.844 2.225-4.508 2.868c-1.663 0.646-3.447 0.952-5.215 0.909-1.769-0.041-3.519-0.429-5.119-1.14-1.602-0.708-3.053-1.734-4.25-2.991s-2.141-2.743-2.76-4.346c-0.621-1.603-0.913-3.319-0.871-5.024 0.041-1.705 0.417-3.388 1.102-4.928 0.683-1.541 1.672-2.937 2.883-4.088s2.642-2.058 4.184-2.652c1.542-0.596 3.192-0.875 4.832-0.833 1.641 0.041 3.257 0.404 4.736 1.064 1.48 0.658 2.82 1.609 3.926 2.774s1.975 2.54 2.543 4.021c0.57 1.481 0.837 3.064 0.794 4.641h0.007c-0.005 0.055-0.007 0.11-0.007 0.167 0 1.032 0.781 1.88 1.784 1.988-0.195 1.088-0.517 2.151-0.962 3.156z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  edit: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>edit title</title>\r\n      <path d=\"M12 21h9c0.552 0 1-0.448 1-1s-0.448-1-1-1h-9c-0.552 0-1 0.448-1 1s0.448 1 1 1zM15.793 2.793l-12.5 12.5c-0.122 0.121-0.217 0.28-0.263 0.465l-1 4c-0.039 0.15-0.042 0.318 0 0.485 0.134 0.536 0.677 0.862 1.213 0.728l4-1c0.167-0.041 0.33-0.129 0.465-0.263l12.5-12.5c0.609-0.609 0.914-1.41 0.914-2.207s-0.305-1.598-0.914-2.207-1.411-0.915-2.208-0.915-1.598 0.305-2.207 0.914zM17.207 4.207c0.219-0.219 0.504-0.328 0.793-0.328s0.574 0.109 0.793 0.328 0.328 0.504 0.328 0.793-0.109 0.574-0.328 0.793l-12.304 12.304-2.115 0.529 0.529-2.115z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  replace: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>replace</title>\r\n      <path d=\"M28 18.5v3c0 0.266-0.234 0.5-0.5 0.5h-21.5v3c0 0.266-0.219 0.5-0.5 0.5-0.141 0-0.266-0.063-0.375-0.156l-4.984-5c-0.094-0.094-0.141-0.219-0.141-0.344 0-0.141 0.047-0.266 0.141-0.359l5-5c0.094-0.094 0.234-0.141 0.359-0.141 0.266 0 0.5 0.219 0.5 0.5v3h21.5c0.266 0 0.5 0.219 0.5 0.5zM28 10c0 0.125-0.047 0.266-0.141 0.359l-5 5c-0.094 0.094-0.234 0.141-0.359 0.141-0.266 0-0.5-0.234-0.5-0.5v-3h-21.5c-0.266 0-0.5-0.234-0.5-0.5v-3c0-0.266 0.234-0.5 0.5-0.5h21.5v-3c0-0.281 0.219-0.5 0.5-0.5 0.141 0 0.266 0.063 0.375 0.156l4.984 4.984c0.094 0.094 0.141 0.234 0.141 0.359z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  reload: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>reload</title>\r\n      <path d=\"M23.609 16.5c0 0.031 0 0.078-0.016 0.109-1.328 5.531-5.891 9.391-11.656 9.391-3.047 0-6-1.203-8.219-3.313l-2.016 2.016c-0.187 0.187-0.438 0.297-0.703 0.297-0.547 0-1-0.453-1-1v-7c0-0.547 0.453-1 1-1h7c0.547 0 1 0.453 1 1 0 0.266-0.109 0.516-0.297 0.703l-2.141 2.141c1.469 1.375 3.422 2.156 5.437 2.156 2.781 0 5.359-1.437 6.813-3.813 0.375-0.609 0.562-1.203 0.828-1.828 0.078-0.219 0.234-0.359 0.469-0.359h3c0.281 0 0.5 0.234 0.5 0.5zM24 4v7c0 0.547-0.453 1-1 1h-7c-0.547 0-1-0.453-1-1 0-0.266 0.109-0.516 0.297-0.703l2.156-2.156c-1.484-1.375-3.437-2.141-5.453-2.141-2.781 0-5.359 1.437-6.813 3.813-0.375 0.609-0.562 1.203-0.828 1.828-0.078 0.219-0.234 0.359-0.469 0.359h-3.109c-0.281 0-0.5-0.234-0.5-0.5v-0.109c1.344-5.547 5.953-9.391 11.719-9.391 3.063 0 6.047 1.219 8.266 3.313l2.031-2.016c0.187-0.187 0.438-0.297 0.703-0.297 0.547 0 1 0.453 1 1z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  handle: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>handle</title>\r\n      <path d=\"M15 15.984q0.797 0 1.406 0.609t0.609 1.406-0.609 1.406-1.406 0.609-1.406-0.609-0.609-1.406 0.609-1.406 1.406-0.609zM15 9.984q0.797 0 1.406 0.609t0.609 1.406-0.609 1.406-1.406 0.609-1.406-0.609-0.609-1.406 0.609-1.406 1.406-0.609zM15 8.016q-0.797 0-1.406-0.609t-0.609-1.406 0.609-1.406 1.406-0.609 1.406 0.609 0.609 1.406-0.609 1.406-1.406 0.609zM9 3.984q0.797 0 1.406 0.609t0.609 1.406-0.609 1.406-1.406 0.609-1.406-0.609-0.609-1.406 0.609-1.406 1.406-0.609zM9 9.984q0.797 0 1.406 0.609t0.609 1.406-0.609 1.406-1.406 0.609-1.406-0.609-0.609-1.406 0.609-1.406 1.406-0.609zM11.016 18q0 0.797-0.609 1.406t-1.406 0.609-1.406-0.609-0.609-1.406 0.609-1.406 1.406-0.609 1.406 0.609 0.609 1.406z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  get(iconName, w = 32, h) {\r\n    const viewBox = `0 0 ${w} ${h || w}`;\r\n    return this[iconName](viewBox);\r\n  },\r\n};\r\n","import React from \"react\";\r\nimport { Icons } from \"../Icons/Icons\";\r\nimport \"./Track.css\";\r\nimport { Draggable } from \"react-beautiful-dnd\";\r\n\r\nexport function Track({\r\n  track,\r\n  isRemoval,\r\n  onMovement,\r\n  onPlayButton,\r\n  playingTrackID = null,\r\n  index,\r\n}) {\r\n  const { name, artists, album, id } = track;\r\n  const isRepeated = playingTrackID === id;\r\n  const handleMoveTrack = () => onMovement(track);\r\n  const handlePlayButton = () => onPlayButton(track, isRepeated);\r\n  return (\r\n    <Draggable draggableId={track.id} index={index}>\r\n      {(provided, snapshot) => (\r\n        <div\r\n          className={`Track ${snapshot.isDragging ? \"draggable\" : \"\"} `}\r\n          ref={provided.innerRef}\r\n          {...provided.draggableProps}\r\n        >\r\n          <div className=\"Track-information\">\r\n            <h3 className=\"Track-information-title\">{name}</h3>\r\n            <p className=\"Track-information-artist\">\r\n              {artists[0]?.name} | {album?.name}\r\n            </p>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"Track-button Track-play\"\r\n            onClick={handlePlayButton}\r\n          >\r\n            {isRepeated ? Icons.get(\"pause\") : Icons.get(\"play\")}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"Track-button Track-action\"\r\n            onClick={handleMoveTrack}\r\n          >\r\n            {isRemoval ? \"-\" : \"+\"}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"Track-button Track-handle\"\r\n            {...provided.dragHandleProps}\r\n          >\r\n            {Icons.get(\"handle\", 20)}\r\n          </button>\r\n        </div>\r\n      )}\r\n    </Draggable>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Track } from \"../Track/Track\";\r\nimport \"./TrackList.css\";\r\nimport { Droppable } from \"react-beautiful-dnd\";\r\n\r\nconst getMessage = ({ snapshot, tracksLength }) => {\r\n  const { isDraggingOver, draggingFromThisWith } = snapshot;\r\n\r\n  if (\r\n    isDraggingOver &&\r\n    tracksLength <= 1 &&\r\n    (draggingFromThisWith || tracksLength < 1)\r\n  )\r\n    return <div className=\"TrackList-message dragging\">+</div>;\r\n\r\n  if (tracksLength < 1)\r\n    return (\r\n      <div className=\"TrackList-message\">\r\n        <p>Drag'n'drop or add some tracks</p>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport function TrackList({\r\n  tracks,\r\n  isRemoval,\r\n  onAdd,\r\n  onRemove,\r\n  onPlayButton,\r\n  playingTrackID,\r\n  droppableId,\r\n  isDropDisabled = false,\r\n}) {\r\n  return (\r\n    <Droppable droppableId={droppableId} isDropDisabled={isDropDisabled}>\r\n      {(provided, snapshot) => (\r\n        <div\r\n          className={`TrackList${\r\n            snapshot.isDraggingOver ? \" draggingOver\" : \"\"\r\n          }`}\r\n          ref={provided.innerRef}\r\n          {...provided.droppableProps}\r\n        >\r\n          {tracks.map((track, index) => (\r\n            <Track\r\n              key={track.id}\r\n              track={track}\r\n              isRemoval={isRemoval}\r\n              onMovement={isRemoval ? onRemove : onAdd}\r\n              onPlayButton={onPlayButton}\r\n              playingTrackID={playingTrackID}\r\n              index={index}\r\n            />\r\n          ))}\r\n          {tracks.length >= 1 && provided.placeholder}\r\n          {getMessage({ snapshot, tracksLength: tracks.length })}\r\n        </div>\r\n      )}\r\n    </Droppable>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { TrackList } from \"../TrackList/TrackList\";\r\nimport { Icons } from \"../Icons/Icons.js\";\r\nimport \"./SearchResults.css\";\r\n\r\nexport class SearchResults extends React.Component {\r\n  containerRef = React.createRef();\r\n  render() {\r\n    const { results, onAdd, onPlayButton, playingTrackID, isSearching } =\r\n      this.props;\r\n    const icon = <i className=\"SearchResults-icon\">{Icons.get(\"loading\")}</i>;\r\n    const trackList = (\r\n      <TrackList\r\n        tracks={results}\r\n        isRemoval={false}\r\n        onAdd={onAdd}\r\n        onPlayButton={onPlayButton}\r\n        playingTrackID={playingTrackID}\r\n        droppableId=\"searchResults\"\r\n      />\r\n    );\r\n\r\n    return (\r\n      <div className=\"SearchResults\" ref={this.containerRef}>\r\n        <h2 className=\"SearchResults-header\">Results</h2>\r\n        {isSearching ? icon : trackList}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { isSearching } = this.props;\r\n    const { current: container } = this.containerRef;\r\n    if (isSearching) {\r\n      setTimeout(() => container.classList.add(\"loading\"));\r\n    } else {\r\n      container.classList.remove(\"loading\");\r\n    }\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Icons } from \"../Icons/Icons\";\r\nimport \"./Player.css\";\r\n\r\nexport class Player extends React.Component {\r\n  state = {\r\n    muted: false,\r\n    volume: 0.5,\r\n    currentPosition: 0,\r\n  };\r\n  playerRef = React.createRef();\r\n  volRef = React.createRef();\r\n  playbackRef = React.createRef();\r\n  player = new Audio(this.props.track.preview_url);\r\n\r\n  handleRewindClick = () => {\r\n    const { readyState, currentTime, seeking } = this.player;\r\n\r\n    if (readyState < 1 || seeking) return;\r\n\r\n    const rewoundTime = Math.max(currentTime - 10, 0);\r\n    this.player.currentTime = rewoundTime;\r\n  };\r\n\r\n  handlePlayClick = () => this.props.onPlayButton();\r\n\r\n  handleNextClick = () => this.props.onNextButton();\r\n\r\n  handleForwardClick = () => {\r\n    const { readyState, currentTime, seeking, duration } = this.player;\r\n\r\n    if (readyState < 1 && currentTime === 0) {\r\n      this.player.currentTime += 10;\r\n      return;\r\n    }\r\n\r\n    if (seeking) return;\r\n\r\n    const forwardTime = Math.min(currentTime + 10, duration);\r\n    this.player.currentTime = forwardTime;\r\n  };\r\n\r\n  handlePlaybackClick = (e) => {\r\n    const fraction = this.getFraction(e, this.playbackRef.current);\r\n    const currentPosition =\r\n      (fraction < 0.02 && \"0\") ||\r\n      (fraction > 0.98 && \"1\") ||\r\n      fraction.toFixed(5);\r\n\r\n    // first set the time and then upon the successful loading, set the position to change the width as the timeupdate event is happening\r\n\r\n    if (this.player.readyState < 1) {\r\n      this.player.onloadedmetadata = () => {\r\n        this.player.currentTime =\r\n          (this.player.duration * currentPosition).toFixed(5) || 0;\r\n      };\r\n\r\n      return;\r\n    }\r\n\r\n    this.player.currentTime =\r\n      (this.player.duration * currentPosition).toFixed(5) || 0;\r\n  };\r\n\r\n  handleMuteClick = () => {\r\n    const isMuted = !this.state.muted;\r\n    this.setState({ muted: isMuted });\r\n  };\r\n\r\n  handleVolumeClick = (e) => {\r\n    const fraction = this.getFraction(e, this.volRef.current);\r\n    const volume =\r\n      (fraction < 0.1 && \"0\") || (fraction > 0.9 && \"1\") || fraction.toFixed(5);\r\n    this.setState({ volume, muted: false });\r\n  };\r\n\r\n  handleTimeUpdate = () => {\r\n    this.setState({\r\n      currentPosition: (this.player.currentTime / this.player.duration).toFixed(\r\n        5\r\n      ),\r\n    });\r\n  };\r\n\r\n  handleEnded = () => this.props.onPlayEnded();\r\n\r\n  getFraction = ({ currentTarget: container, target, clientX }, child) => {\r\n    if (container === target) return 1;\r\n\r\n    const { left } = container.getBoundingClientRect();\r\n\r\n    if (clientX < left) return 0;\r\n\r\n    const clickedPoint = clientX - left;\r\n\r\n    return clickedPoint / child.offsetWidth;\r\n  };\r\n\r\n  seconds = {\r\n    set passed(value) {\r\n      this._passed = Math.floor(value);\r\n    },\r\n    set total(value) {\r\n      this._total = Math.floor(value);\r\n    },\r\n    get passed() {\r\n      return this.convertToTimeFormat(this._passed);\r\n    },\r\n    get total() {\r\n      return this.convertToTimeFormat(this._total);\r\n    },\r\n\r\n    convertToTimeFormat: (value) => {\r\n      const minuts = Number.parseInt(value / 60);\r\n      const seconds = value % 60;\r\n\r\n      return [minuts, seconds]\r\n        .map((item) => (item < 10 ? `0${item}` : item))\r\n        .join(\":\");\r\n    },\r\n  };\r\n\r\n  render() {\r\n    const { paused, track } = this.props;\r\n    const { name: songName, artists } = track;\r\n    const { currentPosition, volume, muted } = this.state;\r\n    const { duration } = this.player;\r\n    const title = track ? `${artists[0].name} - ${songName}` : \"\";\r\n\r\n    this.seconds.passed = duration * currentPosition || 0;\r\n    this.seconds.total = duration || 0;\r\n\r\n    return (\r\n      <div className=\"Player\" ref={this.playerRef}>\r\n        <div className=\"container\">\r\n          <button\r\n            className=\"Player-button Player-rewind\"\r\n            type=\"button\"\r\n            onClick={this.handleRewindClick}\r\n          >\r\n            {Icons.get(\"rewind\", 24)}\r\n          </button>\r\n          <button\r\n            className=\"Player-button Player-play\"\r\n            type=\"button\"\r\n            onClick={this.handlePlayClick}\r\n          >\r\n            {paused ? Icons.get(\"play\") : Icons.get(\"pause\")}\r\n          </button>\r\n          <button\r\n            className=\"Player-button Player-next\"\r\n            type=\"button\"\r\n            onClick={this.handleNextClick}\r\n          >\r\n            {Icons.get(\"next\")}\r\n          </button>\r\n          <button\r\n            className=\"Player-button Player-forward\"\r\n            type=\"button\"\r\n            onClick={this.handleForwardClick}\r\n          >\r\n            {Icons.get(\"forward\", 24)}\r\n          </button>\r\n          <div className=\"Player-playback\" onClick={this.handlePlaybackClick}>\r\n            <div className=\"Player-playback-total\" ref={this.playbackRef}>\r\n              <h2 className=\"Player-playback-title\">{title}</h2>\r\n              <span\r\n                className=\"Player-playback-passed\"\r\n                style={{ width: currentPosition * 100 + \"%\" }}\r\n              ></span>\r\n            </div>\r\n          </div>\r\n          <p className=\"Player-time\">\r\n            <time className=\"Player-time-passed\">{this.seconds.passed}</time>\r\n            <time className=\"Player-time-duration\">{this.seconds.total}</time>\r\n          </p>\r\n          <button\r\n            className=\"Player-button Player-mute\"\r\n            type=\"button\"\r\n            onClick={this.handleMuteClick}\r\n          >\r\n            {this.state.muted ? Icons.get(\"mute\") : Icons.get(\"volume\")}\r\n          </button>\r\n          <div className=\"Player-volume\" onClick={this.handleVolumeClick}>\r\n            <div className=\"Player-volume-total\" ref={this.volRef}>\r\n              <span\r\n                className=\"Player-volume-level\"\r\n                style={{ width: muted ? 0 : volume * 100 + \"%\" }}\r\n              ></span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // canplay - playing - timeupdate - seeking - loadedmetadata - seeked - emptied\r\n  componentDidMount() {\r\n    setTimeout(() => (this.playerRef.current.className += \" Player-set\"));\r\n\r\n    this.player.volume = this.state.volume;\r\n\r\n    this.player.oncanplay = () => {\r\n      if (this.props.paused) return;\r\n      this.player\r\n        .play()\r\n        .catch((error) => console.log(\"the play was interrupted 1\"));\r\n      console.log(\"canplay\");\r\n    };\r\n    this.player.onplaying = () => {\r\n      if (this.props.paused) return;\r\n      this.player\r\n        .play()\r\n        .catch((error) => console.log(\"the play was interrupted 2\"));\r\n      console.log(\"playing\");\r\n    };\r\n    this.player.ontimeupdate = () => {\r\n      this.handleTimeUpdate();\r\n      console.log(\"timeupdate st\");\r\n    };\r\n    this.player.onseeking = () => console.log(\"seeking\");\r\n\r\n    this.player.onseeked = () => console.log(\"seeked\");\r\n\r\n    this.player.onemptied = () => {\r\n      this.setState({ currentPosition: 0 });\r\n      console.log(\"emptied st\");\r\n    };\r\n    this.player.onended = (e) => {\r\n      console.log(\"ended st\");\r\n      this.handleEnded();\r\n      this.setState({ currentPosition: 0 });\r\n      this.player.currentTime = 0;\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { track, paused } = this.props;\r\n    const { muted, volume } = this.state;\r\n    const current_track_url = track.preview_url;\r\n    const { preview_url: previos_track_url } = prevProps.track;\r\n\r\n    if (current_track_url !== previos_track_url) {\r\n      this.player.onloadedmetadata = \"\";\r\n      this.player.src = this.props.track.preview_url;\r\n      this.player.load();\r\n      return;\r\n    }\r\n\r\n    this.player.muted = muted;\r\n    this.player.volume = volume;\r\n\r\n    // if ended there will be onended event involved\r\n    if (this.player.ended) return;\r\n\r\n    paused\r\n      ? this.player.pause()\r\n      : this.player\r\n          .play()\r\n          .catch(() =>\r\n            console.dir(\"the play promise initiated was interrupted\")\r\n          );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { TrackList } from \"../TrackList/TrackList\";\r\nimport { Icons } from \"../Icons/Icons\";\r\nimport \"./CurrentPlaylist.css\";\r\n\r\nexport class CurrentPlaylist extends React.Component {\r\n  playlistRef = React.createRef();\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      tracks,\r\n      disableUndo,\r\n      onUndo,\r\n      onRemoveTrack,\r\n      onNameChange,\r\n      onSave,\r\n      onKeyDown,\r\n      onPlayButton,\r\n      playingTrackID,\r\n      isSaving,\r\n    } = this.props;\r\n\r\n    const handleNameChange = ({ target }) => onNameChange(target.value);\r\n    const handleKeyDown = ({ code }) => onKeyDown(code);\r\n\r\n    return (\r\n      <div\r\n        className={`CurrentPlaylist${isSaving ? \" saving\" : \"\"}`}\r\n        ref={this.playlistRef}\r\n      >\r\n        <div className={\"CurrentPlaylist-input\"}>\r\n          <input\r\n            value={name}\r\n            onChange={handleNameChange}\r\n            onKeyDown={handleKeyDown}\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            className=\"CurrentPlaylist-undo\"\r\n            disabled={disableUndo}\r\n            onClick={onUndo}\r\n          >\r\n            {Icons.get(\"undo\")}\r\n          </button>\r\n        </div>\r\n        <TrackList\r\n          tracks={tracks}\r\n          isRemoval={true}\r\n          onRemove={onRemoveTrack}\r\n          onPlayButton={onPlayButton}\r\n          playingTrackID={playingTrackID}\r\n          droppableId=\"playlistTracks\"\r\n          isDropDisabled={isSaving}\r\n        />\r\n        <button className={`CurrentPlaylist-save`} onClick={onSave}>\r\n          {isSaving ? \"SAVING...\" : \"SAVE TO SPOTIFY\"}\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { current: playlist } = this.playlistRef;\r\n    playlist.style.height = playlist.offsetHeight + \"px\";\r\n\r\n    playlist.ontransitionend = ({ propertyName }) => {\r\n      if (propertyName === \"height\") {\r\n        playlist.style.height = playlist.offsetHeight + \"px\";\r\n      }\r\n    };\r\n  }\r\n\r\n  componentDidUpdate({ tracks: prevTracks }) {\r\n    const { current: playlist } = this.playlistRef;\r\n    const { tracks } = this.props;\r\n    const { clientHeight, scrollHeight } = playlist;\r\n\r\n    if (prevTracks.length === 0 && tracks.length === 1) {\r\n    }\r\n\r\n    if (prevTracks.length === tracks.length) return;\r\n\r\n    if (tracks.length > prevTracks.length) {\r\n      if (clientHeight === scrollHeight) return;\r\n      playlist.style.height = playlist.scrollHeight + \"px\";\r\n    }\r\n\r\n    if (tracks.length < prevTracks.length) {\r\n      const prevHeight = playlist.offsetHeight;\r\n      playlist.style.height = \"auto\";\r\n\r\n      const height = playlist.offsetHeight;\r\n      playlist.style.height = prevHeight + \"px\";\r\n\r\n      getComputedStyle(playlist).getPropertyValue(\"height\");\r\n\r\n      playlist.style.height = height + \"px\";\r\n    }\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Icons } from \"../Icons/Icons\";\r\nimport \"./Playlist.css\";\r\n\r\nexport function Playlist({ id, name, length, onRename, isRenaming }) {\r\n  const headerRef = React.createRef();\r\n  const buttonRef = React.createRef();\r\n\r\n  const onClick = () => {\r\n    console.log(\"onClick\");\r\n\r\n    const { current: header } = headerRef;\r\n\r\n    if (isRenaming) {\r\n      header.contentEditable = false;\r\n      return;\r\n    }\r\n\r\n    const isContentEditable = header.contentEditable === \"true\" ? false : true;\r\n\r\n    header.contentEditable = isContentEditable;\r\n\r\n    if (isContentEditable) {\r\n      header.focus();\r\n      const selection = getSelection();\r\n      selection.removeAllRanges();\r\n      selection.collapse(header.firstChild, header.firstChild.length);\r\n    }\r\n  };\r\n\r\n  const handleBlur = ({ currentTarget: header, relatedTarget: rel }) => {\r\n    console.log(\"handleBlur\");\r\n\r\n    const { current: button } = buttonRef;\r\n\r\n    // the button has been used\r\n    // (since a blur is fired before a click the contentEditable state doesn't change to leave  processing to the onClick event handler)\r\n    // or\r\n    // the key Enter has been used\r\n    if (button.contains(rel) || header.contentEditable === \"false\") {\r\n      if (name === header.textContent) return;\r\n\r\n      onRename({ id, name: header.textContent, prevName: name });\r\n\r\n      return;\r\n    }\r\n\r\n    header.contentEditable = false;\r\n    header.textContent = name;\r\n  };\r\n\r\n  const handleKeyPress = ({ currentTarget: header, key }) => {\r\n    if (key === \"Enter\" && header.contentEditable) {\r\n      console.log(\"handleKeyPress Enter\");\r\n      header.contentEditable = false;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`Playlist${isRenaming ? \" renaming\" : \"\"}`}>\r\n      <div className=\"Playlist-information\">\r\n        <div className=\"Playlist-title\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"Playlist-button Playlist-edit\"\r\n            onClick={onClick}\r\n            ref={buttonRef}\r\n          >\r\n            {isRenaming ? Icons.get(\"loading\", 32) : Icons.get(\"edit\", 26)}\r\n          </button>\r\n          <h3\r\n            contentEditable={false}\r\n            onBlur={handleBlur}\r\n            onKeyPress={handleKeyPress}\r\n            ref={headerRef}\r\n          >\r\n            {name}\r\n          </h3>\r\n        </div>\r\n        <p>{length} tracks</p>\r\n      </div>\r\n      {/* <button type=\"buttom\" className=\"Playlist-button Playlist-replace\">\r\n        +\r\n      </button> */}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Playlist } from \"../Playlist/Playlist\";\r\nimport { Icons } from \"../Icons/Icons\";\r\nimport \"./UserPlaylists.css\";\r\n\r\nexport class UserPlaylists extends React.Component {\r\n  containerRef = React.createRef();\r\n\r\n  render() {\r\n    const { playlists, onLoad } = this.props;\r\n    const failedLoading = typeof playlists[0] === \"string\";\r\n    const getMessage = (message) => (\r\n      <p className=\"UserPlaylists-message\">{message}</p>\r\n    );\r\n    const content = failedLoading\r\n      ? getMessage(playlists[0])\r\n      : this.getPlaylistsTemplate(playlists);\r\n\r\n    const icon = <i className=\"UserPlaylists-icon\">{Icons.get(\"loading\")}</i>;\r\n\r\n    return (\r\n      <div className=\"UserPlaylists\" ref={this.containerRef}>\r\n        <h2>\r\n          User's playlists\r\n          <button className=\"UserPlaylists-button\" onClick={onLoad}>\r\n            {Icons.get(\"reload\", 26)}\r\n          </button>\r\n        </h2>\r\n        {playlists.length ? content : icon}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getPlaylistsTemplate(playlists) {\r\n    return playlists.map(({ id, name, tracks, isRenaming }) => (\r\n      <Playlist\r\n        key={id}\r\n        id={id}\r\n        name={name}\r\n        length={tracks.total || 0}\r\n        onRename={this.props.onRenamePlaylist}\r\n        isRenaming={isRenaming}\r\n      />\r\n    ));\r\n  }\r\n\r\n  changeClasses() {\r\n    const { current: container } = this.containerRef;\r\n    const { playlists, isToggled } = this.props;\r\n\r\n    if (playlists.length < 1 && isToggled) {\r\n      setTimeout(() => container.classList.add(\"loading\"));\r\n    }\r\n\r\n    if (playlists.length) container.classList.remove(\"loading\");\r\n\r\n    container.classList[isToggled ? \"add\" : \"remove\"](\"toggled\");\r\n  }\r\n\r\n  resizeContainer = ({\r\n    isToggled: prevIsToggled,\r\n    playlists: prevPlaylists,\r\n  }) => {\r\n    const { current: container } = this.containerRef;\r\n    const { isToggled, playlists } = this.props;\r\n\r\n    const noToggle = prevIsToggled === isToggled;\r\n    const noChange = playlists.length === prevPlaylists.length;\r\n\r\n    if (noToggle && isToggled === false) return;\r\n    if (noToggle && noChange) return;\r\n\r\n    // the min height is required for the container to extend with fix value whilst data is loading\r\n    // when toggled the height can't go beside two fix values, that is min and max\r\n    container.style.height = `${\r\n      isToggled ? Math.min(Math.max(container.scrollHeight, 400), 500) : 0\r\n    }px`;\r\n  };\r\n\r\n  startLoading() {\r\n    const { isToggled, playlists, onLoad } = this.props;\r\n    if (playlists.length < 1 && isToggled) onLoad();\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { current: container } = this.containerRef;\r\n    container.style.height = \"0px\";\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    this.startLoading();\r\n    this.changeClasses();\r\n    this.resizeContainer(prevProps);\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Icons } from \"../Icons/Icons\";\r\nimport { CurrentPlaylist } from \"../CurrentPlaylist/CurrentPlaylist\";\r\nimport { UserPlaylists } from \"../UserPlaylists/UserPlaylists\";\r\nimport \"./Playlists.css\";\r\n\r\nexport class Playlists extends React.Component {\r\n  state = { isToggled: false };\r\n\r\n  togglePlaylists = () => this.setState({ isToggled: !this.state.isToggled });\r\n\r\n  render() {\r\n    const {\r\n      playlistName,\r\n      defaultName,\r\n      playlistTracks,\r\n      onRemoveTrack,\r\n      onNameChange,\r\n      onKeyDown,\r\n      onPlayButton,\r\n      playingTrackID,\r\n      onUndoPlaylist,\r\n      onSavePlaylist,\r\n      userPlaylists,\r\n      onLoadPlaylists,\r\n      onRenamePlaylist,\r\n      isSaving,\r\n      isLoading,\r\n    } = this.props;\r\n\r\n    const { isToggled } = this.state;\r\n\r\n    const disableUndo =\r\n      playlistTracks.length === 0 && playlistName === defaultName;\r\n\r\n    return (\r\n      <div className={`Playlists`}>\r\n        <button\r\n          type=\"button\"\r\n          className=\"Playlists-button\"\r\n          onClick={this.togglePlaylists}\r\n        >\r\n          {Icons.get(\"playlists\", 20)}\r\n        </button>\r\n        <div className=\"Playlists-container\">\r\n          <UserPlaylists\r\n            isToggled={isToggled}\r\n            playlists={userPlaylists}\r\n            onLoad={onLoadPlaylists}\r\n            onRenamePlaylist={onRenamePlaylist}\r\n            isLoading={isLoading}\r\n          />\r\n          <CurrentPlaylist\r\n            name={playlistName}\r\n            tracks={playlistTracks}\r\n            disableUndo={disableUndo}\r\n            playingTrackID={playingTrackID}\r\n            isSaving={isSaving}\r\n            onNameChange={onNameChange}\r\n            onUndo={onUndoPlaylist}\r\n            onSave={onSavePlaylist}\r\n            onKeyDown={onKeyDown}\r\n            onRemoveTrack={onRemoveTrack}\r\n            onPlayButton={onPlayButton}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","const CLIENT_ID = \"565c78e61f5441e8bdf1635690798d4e\";\r\nconst REDIRECT_URI = \"http://localhost:3000\";\r\nconst SCOPE = \"playlist-modify-public\";\r\n\r\nexport const Spotify = {\r\n  urls: {\r\n    authorize: `https://accounts.spotify.com/authorize`,\r\n    api: \"https://api.spotify.com/v1\",\r\n  },\r\n\r\n  getUrl(endpoint) {\r\n    const { authorize, api } = this.urls;\r\n    return endpoint === \"authorize\" ? authorize : `${api}/${endpoint}`;\r\n  },\r\n\r\n  token: \"\",\r\n  stateLength: 16,\r\n\r\n  async searchTrack(term) {\r\n    const token = this.getAccessToken();\r\n    if (!token) return [];\r\n\r\n    const url = new URL(this.getUrl(\"search\"));\r\n    url.searchParams.set(\"q\", term);\r\n    url.searchParams.set(\"type\", \"track\");\r\n\r\n    const options = {\r\n      headers: this.getRequestHeaders(),\r\n    };\r\n\r\n    const { tracks } = await this.fetchJson(url, options);\r\n\r\n    return tracks.items;\r\n  },\r\n\r\n  async savePlaylist({ name, trackURIs }) {\r\n    const token = this.getAccessToken();\r\n    if (!token) return;\r\n\r\n    const userId = await this.getUserId();\r\n    const playlistResponse = await this.createPlaylist(name, userId);\r\n    const { id } = playlistResponse;\r\n\r\n    return await this.saveTracks({ id, trackURIs });\r\n  },\r\n\r\n  async getUserId() {\r\n    const options = {\r\n      headers: this.getRequestHeaders(),\r\n    };\r\n\r\n    const { id } = await this.fetchJson(this.getUrl(\"me\"), options);\r\n\r\n    return id;\r\n  },\r\n\r\n  async createPlaylist(name, userId) {\r\n    const url = `${this.getUrl(\"users\")}/${userId}/playlists`;\r\n    const options = {\r\n      method: \"POST\",\r\n      headers: this.getRequestHeaders(),\r\n      body: JSON.stringify({\r\n        name,\r\n      }),\r\n    };\r\n\r\n    return this.fetchJson(url, options);\r\n  },\r\n\r\n  async saveTracks({ id, trackURIs }) {\r\n    const url = `${this.getUrl(\"playlists\")}/${id}/tracks?uris=${trackURIs.join(\r\n      \",\"\r\n    )}`;\r\n    const options = {\r\n      method: \"POST\",\r\n      headers: this.getRequestHeaders(),\r\n    };\r\n    return this.fetchJson(url, options);\r\n  },\r\n\r\n  async getPlaylists() {\r\n    const options = {\r\n      headers: this.getRequestHeaders(),\r\n    };\r\n\r\n    const { items: playlists } = await this.fetchJson(\r\n      this.getUrl(\"me/playlists\"),\r\n      options\r\n    );\r\n\r\n    return playlists;\r\n  },\r\n\r\n  async renamePlaylist({ id, name }) {\r\n    const url = this.getUrl(`playlists/${id}`);\r\n\r\n    const options = {\r\n      method: \"PUT\",\r\n      headers: this.getRequestHeaders(),\r\n      body: JSON.stringify({ name }),\r\n    };\r\n\r\n    return this.fetchJson(url, options);\r\n  },\r\n\r\n  async fetchJson(url, options) {\r\n    let response;\r\n\r\n    try {\r\n      response = await fetch(url, options);\r\n    } catch (err) {\r\n      throw new SpotifyError({\r\n        status: \"Network error\",\r\n        message: err.message,\r\n        object: err,\r\n      });\r\n    }\r\n\r\n    const { status, statusText } = response;\r\n\r\n    if (!response.ok) {\r\n      let message = `${\r\n        statusText && statusText + \". \"\r\n      }The response status is not ok`;\r\n      let jsonResponse = {};\r\n      try {\r\n        jsonResponse = await response.json();\r\n      } catch (err) {\r\n        throw new SpotifyError({ status, message, object: response });\r\n      }\r\n      throw new SpotifyError({\r\n        message: (jsonResponse.error && jsonResponse.error.message) || message,\r\n        status: (jsonResponse.error && jsonResponse.error.status) || status,\r\n        object: jsonResponse,\r\n      });\r\n    }\r\n\r\n    try {\r\n      const jsonResponse = await response.json();\r\n      return jsonResponse;\r\n    } catch (err) {\r\n      if (options.method === \"PUT\") return;\r\n\r\n      console.log(err.message);\r\n      throw new SpotifyError({\r\n        status: \"Incorrect response from the server\",\r\n        message: \"Could not convert the response data\",\r\n      });\r\n    }\r\n  },\r\n\r\n  getAccessToken() {\r\n    const storedToken = localStorage.getItem(\"token\");\r\n    const storedExpiration = localStorage.getItem(\"expiration\");\r\n\r\n    if (storedToken && Date.now() < storedExpiration) return storedToken;\r\n\r\n    const {\r\n      access_token: token,\r\n      expires_in: expiration,\r\n      state,\r\n    } = this.getHashParams();\r\n    const storedState = localStorage.getItem(\"state\");\r\n\r\n    if (state && state !== storedState) {\r\n      console.log(\"state mismatching error\");\r\n      return;\r\n    }\r\n\r\n    if (token && expiration) {\r\n      localStorage.removeItem(\"state\");\r\n      localStorage.setItem(\"token\", token);\r\n      localStorage.setItem(\r\n        \"expiration\",\r\n        parseInt(expiration, 10) * 1000 + Date.now()\r\n      );\r\n\r\n      window.history.replaceState({}, \"\", window.location.origin);\r\n      return token;\r\n    }\r\n\r\n    this.redirectToAuthorization();\r\n  },\r\n\r\n  getHashParams() {\r\n    const hash = window.location.hash.slice(1);\r\n    const params = {};\r\n    const regex = /([^&=;]+)=?([^&;]*)/g;\r\n\r\n    let matches;\r\n    while ((matches = regex.exec(hash))) {\r\n      params[matches[1]] = decodeURIComponent(matches[2]);\r\n    }\r\n\r\n    return params;\r\n  },\r\n\r\n  redirectToAuthorization() {\r\n    const state = this.generateRandomState(this.stateLenght);\r\n    localStorage.setItem(\"state\", state);\r\n\r\n    let url = this.getUrl(\"authorize\") + \"?\";\r\n\r\n    url += `client_id=${CLIENT_ID}&`;\r\n    url += \"response_type=token&\";\r\n    url += `redirect_uri=${encodeURIComponent(REDIRECT_URI)}&`;\r\n    url += `state=${state}&`;\r\n    url += `scope=${SCOPE}&`;\r\n\r\n    window.location = url;\r\n  },\r\n\r\n  generateRandomState(length) {\r\n    const possible =\r\n      \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n    let randomString = \"\";\r\n\r\n    for (let i = 0; i < length; i++) {\r\n      const index = Math.floor(Math.random() * possible.length);\r\n      randomString += possible[index];\r\n    }\r\n\r\n    return randomString;\r\n  },\r\n\r\n  getRequestHeaders() {\r\n    return { Authorization: `Bearer ${this.getAccessToken()}` };\r\n  },\r\n};\r\n\r\nclass SpotifyError extends Error {\r\n  constructor({ status, message, object }) {\r\n    super(message);\r\n    this.status = status;\r\n    this.object = object;\r\n  }\r\n}\r\n","import React from \"react\";\nimport { SearchBar } from \"../SearchBar/SearchBar\";\nimport { SearchResults } from \"../SearchResults/SearchResults\";\nimport { Player } from \"../Player/Player\";\nimport { Playlists } from \"../Playlists/Playlists\";\nimport { Spotify } from \"../../utils/Spotify\";\nimport \"./App.css\";\nimport { DragDropContext } from \"react-beautiful-dnd\";\n\nexport class App extends React.Component {\n  playlistName = \"New Playlist\";\n\n  state = {\n    searchTerm: \"\",\n    searchResults: [],\n    isSearching: false,\n\n    validation: {\n      search: true,\n    },\n\n    playlistName: this.playlistName,\n    playlistTracks: [],\n    isSaving: false,\n\n    userPlaylists: [],\n    isLoading: false,\n\n    //have to keep these player's state values on the top element to sync with other components\n    playingTrack: \"\",\n    paused: true,\n  };\n\n  handleTermChange = (value) => this.setState({ searchTerm: value });\n\n  getEnterDownHandler = (callback) => {\n    return (keyValue) => keyValue === \"Enter\" && callback();\n  };\n\n  search = () => {\n    const { searchTerm, isSearching } = this.state;\n\n    if (isSearching) return;\n\n    if (searchTerm.length < 1) {\n      this.setState({ validation: { search: false } });\n      setTimeout(() => this.setState({ validation: { search: true } }), 900);\n      return;\n    }\n\n    this.setState({ isSearching: true, validation: { search: true } });\n\n    Spotify.searchTrack(this.state.searchTerm)\n      .then((tracks) => {\n        this.setState({\n          searchResults: [...tracks],\n        });\n      })\n      .catch((err) => console.log(\"Spotify error\", err.message))\n      .finally(() => this.setState({ isSearching: false }));\n  };\n\n  addTrack = (track) => {\n    const { playlistTracks, searchResults } = this.state;\n\n    this.setState({\n      searchResults: searchResults.filter(({ id }) => track.id !== id),\n      playlistTracks: [...playlistTracks, track],\n    });\n  };\n\n  removeTrack = (track) => {\n    const { searchResults, playlistTracks } = this.state;\n\n    this.setState({\n      searchResults: [...searchResults, track],\n      playlistTracks: playlistTracks.filter(({ id }) => id !== track.id),\n    });\n  };\n\n  updatePlaylistName = (value) => this.setState({ playlistName: value });\n\n  savePlaylist = () => {\n    const trackURIs = this.state.playlistTracks.map(\n      ({ preview_url }) => preview_url\n    );\n    const { playlistName: name } = this.state;\n\n    const isVerified = name && trackURIs.length > 0;\n    if (isVerified === false) {\n      console.log(\"need a playlist's name or at least one track\");\n      return;\n    }\n\n    this.setState({ isSaving: true });\n\n    Spotify.savePlaylist({ name, trackURIs })\n      .then((savedPlaylist) => {\n        console.log(\"the playlist has been saved successfully\");\n        this.setState({\n          playlistName: this.playlistName,\n          playlistTracks: [],\n          userPlaylists: [],\n        });\n      })\n      .catch((err) => console.log(\"Spotify error\", err.message))\n      .finally(() => this.setState({ isSaving: false }));\n  };\n\n  undoPlaylist = () => {\n    const { searchResults, playlistTracks } = this.state;\n\n    this.setState({\n      playlistName: this.playlistName,\n      searchResults: [...searchResults, ...playlistTracks],\n      playlistTracks: [],\n    });\n  };\n\n  loadUserPlaylists = () => {\n    if (this.state.isLoading) return;\n    this.setState({ isLoading: true, userPlaylists: [] });\n\n    Spotify.getPlaylists()\n      .then((playlists) => {\n        this.setState({\n          userPlaylists: playlists.length\n            ? [...playlists]\n            : [\"You hasn't created any playlist on your account yet\"],\n        });\n      })\n      .catch((err) => {\n        console.log(\"Spotify error\", err.message);\n        this.setState({ userPlaylists: [\"Error has occured\"] });\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  renameUserPlaylist = ({ id, name, prevName = \"Untitled\" }) => {\n    const isVerified = id && name;\n    if (isVerified === false)\n      console.log(\n        \"id and name are the arguments both required to rename a playlist\"\n      );\n\n    const userPlaylists = [...this.state.userPlaylists];\n    const targetPlaylist = userPlaylists.find((playlist) => playlist.id === id);\n\n    if (targetPlaylist.isRenaming) return;\n\n    targetPlaylist.isRenaming = true;\n\n    this.setState({ userPlaylists: [...userPlaylists] });\n\n    let successfulRequest = false;\n\n    Spotify.renamePlaylist({ id, name, prevName })\n      .then(() => {\n        console.log(\"Playlist has been renamed\");\n\n        successfulRequest = true;\n      })\n      .catch((err) => {\n        console.log(\"Spotify error\", err.message);\n      })\n      .finally(() => {\n        const userPlaylists = [...this.state.userPlaylists];\n        const targetPlaylist = userPlaylists.find(\n          (playlist) => playlist.id === id\n        );\n\n        //true indicates the playlist has been deleted during processing the request\n        if (Boolean(targetPlaylist) === false) return;\n\n        if (successfulRequest && targetPlaylist.isRenaming) {\n          targetPlaylist.name = name;\n        }\n\n        targetPlaylist.isRenaming = false;\n\n        this.setState({ userPlaylists: [...userPlaylists] });\n      });\n  };\n\n  trackPlayButton = (track, isRepeated) => {\n    const pauseUpdate = { paused: !this.state.paused };\n    const playingTrackUpdate = {\n      playingTrack: Object.assign({}, track),\n      paused: false,\n    };\n    const state = isRepeated ? pauseUpdate : playingTrackUpdate;\n    this.setState(state);\n  };\n\n  playerPlayButton = () => this.setState({ paused: !this.state.paused });\n\n  playerNextButton = () => {\n    const { searchResults, playlistTracks, playingTrack } = this.state;\n    const lists = { searchResults, playlistTracks };\n    const listNames = Object.keys(lists);\n\n    let index;\n\n    for (const name of listNames) {\n      index = lists[name].findIndex(({ id }) => id === playingTrack.id);\n\n      if (index === -1) continue;\n\n      let nextTrack = lists[name][index + 1];\n\n      if (nextTrack) {\n        this.setState({ playingTrack: nextTrack });\n        return;\n      }\n\n      nextTrack =\n        name === \"searchResults\"\n          ? playlistTracks[0] || searchResults[0]\n          : searchResults[0] || playlistTracks[0];\n\n      this.setState({ playingTrack: nextTrack });\n      return;\n    }\n\n    // if index is still equals -1 then a new track search has occured\n    if (index === -1) {\n      this.setState({\n        playingTrack: playlistTracks[0] || searchResults[0] || \"\",\n      });\n    }\n  };\n\n  playerPlayEnded = () => this.setState({ paused: true });\n\n  onDragStart = (start) => console.log(\"onDragStart\", start);\n  onDragUpdate = (update) => {\n    console.log(\"onDragUpdate\", update);\n  };\n  onDragEnd = (ending) => {\n    console.log(\"onDragEnd\", ending);\n\n    if (ending.destination === null) return;\n\n    const { source, destination } = ending;\n    const { droppableId: sourceId, index: sourceIndex } = source;\n    const { droppableId: destId, index: destIndex } = destination;\n    const draggable = this.state[sourceId][sourceIndex];\n\n    if (sourceId !== destId) {\n      const sourceState = Array.from(this.state[sourceId]);\n      sourceState.splice(sourceIndex, 1);\n\n      const destState = Array.from(this.state[destId]);\n      destState.splice(destIndex, 0, draggable);\n\n      this.setState({\n        [sourceId]: sourceState,\n        [destId]: destState,\n      });\n\n      return;\n    }\n\n    if (sourceIndex === destIndex) return;\n\n    const sourceDroppable = Array.from(this.state[sourceId]);\n    sourceDroppable.splice(sourceIndex, 1);\n    sourceDroppable.splice(destIndex, 0, draggable);\n    this.setState({ [sourceId]: sourceDroppable });\n  };\n\n  render() {\n    const {\n      searchResults,\n      playlistName,\n      playlistTracks,\n      searchTerm,\n      paused,\n      playingTrack,\n      userPlaylists,\n      isSaving,\n      isLoading,\n      isSearching,\n      validation,\n    } = this.state;\n    const playingTrackID = paused ? \"\" : playingTrack.id;\n\n    return (\n      <DragDropContext\n        onDragStart={this.onDragStart}\n        onDragUpdate={this.onDragUpdate}\n        onDragEnd={this.onDragEnd}\n      >\n        <div>\n          <h1>\n            Tu<span className=\"highlight\">nnn</span>ing\n          </h1>\n          <div className=\"App\">\n            <SearchBar\n              searchTerm={searchTerm}\n              onSearch={this.search}\n              onChange={this.handleTermChange}\n              onKeyDown={this.getEnterDownHandler(this.search)}\n              isSearching={isSearching}\n              validation={validation}\n            />\n            <div className=\"App-bars\">\n              <SearchResults\n                results={searchResults}\n                onAdd={this.addTrack}\n                onPlayButton={this.trackPlayButton}\n                playingTrackID={playingTrackID}\n                isSearching={isSearching}\n              />\n              <Playlists\n                playlistName={playlistName}\n                defaultName={this.playlistName}\n                playlistTracks={playlistTracks}\n                playingTrackID={playingTrackID}\n                userPlaylists={userPlaylists}\n                isSaving={isSaving}\n                onRemoveTrack={this.removeTrack}\n                onNameChange={this.updatePlaylistName}\n                onKeyDown={this.getEnterDownHandler(this.savePlaylist)}\n                onPlayButton={this.trackPlayButton}\n                onLoadPlaylists={this.loadUserPlaylists}\n                onUndoPlaylist={this.undoPlaylist}\n                onRenamePlaylist={this.renameUserPlaylist}\n                onSavePlaylist={this.savePlaylist}\n                isLoading={isLoading}\n              />\n              {playingTrack && (\n                <Player\n                  paused={paused}\n                  track={playingTrack}\n                  onPlayButton={this.playerPlayButton}\n                  onNextButton={this.playerNextButton}\n                  onPlayEnded={this.playerPlayEnded}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      </DragDropContext>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./components/App/App.js\";\n\n// import reportWebVitals from './reportWebVitals'\n\n// if (process.env.NODE_ENV === 'development') {\n// const { worker, mockAuthState } = require('./mocks/browser')\n// worker.start()\n// mockAuthState()\n// }\n\nasync function main() {\n  if (window.location.pathname === \"/tunnning\") {\n    window.location.pathname = \"/tunnning/\";\n    return;\n  }\n\n  const { worker } = require(\"./mocks/browser\");\n\n  await worker.start({\n    serviceWorker: {\n      url: \"/tunnning/mockServiceWorker.js\",\n    },\n  });\n\n  ReactDOM.render(\n    <React.StrictMode>\n      <App></App>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n  );\n}\n\nmain();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals()\n","const urls = {\r\n  authorize: `https://accounts.spotify.com/authorize`,\r\n  api: \"https://api.spotify.com/v1\",\r\n};\r\n\r\nexport default urls;\r\n","const data = {\n  playlists: [\n    { id: \"1\", tracks: { total: \"11\" }, name: \"New Playlist\" },\n    { id: \"2\", tracks: { total: \"23\" }, name: \"playlist for a vacation\" },\n    { id: \"3\", tracks: { total: \"7\" }, name: \"for concentrating\" },\n  ],\n  searchResults: [\n    {\n      id: \"1\",\n      name: \"Tell Me Why\",\n      artists: [{ name: \"Cassette\" }],\n      album: { name: \"Album 1\" },\n      preview_url:\n        \"https://musify.club/track/play/17840955/cassette-tell-me-why.mp3\",\n    },\n    {\n      id: \"2\",\n      name: \"Shut Down\",\n      artists: [{ name: \"BLACKPINK\" }],\n      album: { name: \"Album 2\" },\n      preview_url:\n        \"https://39s.musify.club/get/68/26324288/65750559/1/1/0/blackpink-shut-down.mp3\",\n    },\n    {\n      id: \"3\",\n      name: \"Движ\",\n      artists: [{ name: \"Filatov & Karas\" }],\n      album: { name: \"Album 3\" },\n      preview_url:\n        \"https://40s.musify.club/get/69/26086361/65198364/1/1/0/filatov-and-karas-%d0%b4%d0%b2%d0%b8%d0%b6.mp3\",\n    },\n    {\n      id: \"4\",\n      name: \"Вода\",\n      artists: [{ name: \"Полина Гагарина\" }],\n      album: { name: \"Album 4\" },\n      preview_url:\n        \"https://musify.club/track/play/18381548/%d0%bf%d0%be%d0%bb%d0%b8%d0%bd%d0%b0-%d0%b3%d0%b0%d0%b3%d0%b0%d1%80%d0%b8%d0%bd%d0%b0-%d0%b2%d0%be%d0%b4%d0%b0.mp3\",\n    },\n    {\n      id: \"5\",\n      name: \"On Repeat\",\n      artists: [{ name: \"David Guetta ft.Robin Schulz\" }],\n      album: { name: \"Album 5\" },\n      preview_url:\n        \"https://41s.musify.club/get/68/26517248/66179552/1/1/0/robin-schulz-david-guetta-on-repeat.mp3\",\n    },\n    {\n      id: \"6\",\n      name: \"All By Myself\",\n      artists: [{ name: \"Ellie Goulding ft. Alok ft. Sigala\" }],\n      album: { name: \"Album 1\" },\n      preview_url:\n        \"https://41s.musify.club/get/69/26437186/66079558/1/1/0/alok-sigala-ellie-goulding-all-by-myself.mp3\",\n    },\n    {\n      id: \"7\",\n      name: \"Summer Really Hurt Us\",\n      artists: [{ name: \"Alma\" }],\n      album: { name: \"Album 2\" },\n      preview_url:\n        \"https://38s-a.musify.club/get/70/26380790/65847830/1/1/0/alma-summer-really-hurt-us.mp3\",\n    },\n    {\n      id: \"8\",\n      name: \"Heartbreaker\",\n      artists: [{ name: \"KDDK \" }],\n      album: { name: \"Album 3\" },\n      preview_url:\n        \"https://37s-a.musify.club/get/71/26273851/65621012/1/1/0/kddk-heartbreaker.mp3\",\n    },\n    {\n      id: \"9\",\n      name: \"Million Dollar Baby\",\n      artists: [{ name: \"Ava Max\" }],\n      album: { name: \"Album 4\" },\n      preview_url:\n        \"https://41s.musify.club/get/69/26264615/65590943/1/1/0/ava-max-million-dollar-baby.mp3\",\n    },\n    {\n      id: \"10\",\n      name: \"Если Сгорим\",\n      artists: [{ name: \"NЮ\" }],\n      album: { name: \"Album 5\" },\n      preview_url:\n        \"https://41s-a.musify.club/get/71/26718767/66559720/1/1/0/n%d1%8e-%d0%b5%d1%81%d0%bb%d0%b8-%d1%81%d0%b3%d0%be%d1%80%d0%b8%d0%bc.mp3\",\n    },\n    {\n      id: \"11\",\n      name: \"Tanimadingmi\",\n      artists: [{ name: \"Божалар ft.VIA Marokand\" }],\n      album: { name: \"Album 1\" },\n      preview_url:\n        \"https://40s-a.musify.club/get/70/24365865/61673860/1/1/0/%d0%b1%d0%be%d0%b6%d0%b0%d0%bb%d0%b0%d1%80-via-marokand-tanimadingmi.mp3\",\n    },\n    {\n      id: \"12\",\n      name: \"Повело\",\n      artists: [{ name: \"Anna Asti\" }],\n      album: { name: \"Album 2\" },\n      preview_url:\n        \"https://41s.musify.club/get/68/26023927/65080536/1/1/0/anna-asti-%d0%bf%d0%be%d0%b2%d0%b5%d0%bb%d0%be.mp3\",\n    },\n    {\n      id: \"13\",\n      name: \"2 Die 4\",\n      artists: [{ name: \"Tove Lo\" }],\n      album: { name: \"Album 3\" },\n      preview_url:\n        \"https://40s.musify.club/get/69/26217809/65506329/1/1/0/tove-lo-2-die-4.mp3\",\n    },\n    {\n      id: \"14\",\n      name: \"So Lonely\",\n      artists: [{ name: \"Kush Kush\" }],\n      album: { name: \"Album 4\" },\n      preview_url:\n        \"https://41s.musify.club/get/68/26252721/65574271/1/1/0/kush-kush-so-lonely.mp3\",\n    },\n  ],\n};\n\nexport default data;\n","import { rest } from \"msw\";\r\nimport urls from \"../urls\";\r\nimport data from \"../mockedData\";\r\n\r\nconst { searchResults } = data;\r\n\r\nconst handler = rest.get(`${urls.api}/search`, (req, res, ctx) => {\r\n  return res(\r\n    ctx.delay(2000),\r\n    ctx.json({ tracks: { items: [...searchResults] } })\r\n  );\r\n});\r\n\r\nexport default handler;\r\n","import { rest } from \"msw\";\r\nimport urls from \"../urls\";\r\nimport data from \"../mockedData\";\r\n\r\nconst { playlists } = data;\r\n\r\nconst handler = rest.get(`${urls.api}/me/playlists`, (req, res, ctx) => {\r\n  return res(ctx.delay(2000), ctx.json({ items: [...playlists] }));\r\n});\r\n\r\nexport default handler;\r\n","import { rest } from \"msw\";\r\nimport urls from \"../urls\";\r\nimport data from \"../mockedData\";\r\n\r\nconst { playlists } = data;\r\n\r\nconst handler = rest.put(\r\n  `${urls.api}/playlists/:requestId`,\r\n  async (req, res, ctx) => {\r\n    const { name } = await req.json();\r\n    const { requestId } = req.params;\r\n\r\n    if (requestId) {\r\n      const renamedPlaylist = playlists.find(({ id }) => id === requestId);\r\n      renamedPlaylist.name = name;\r\n      return res(ctx.delay(2000), ctx.status(200));\r\n    }\r\n    return res(\r\n      ctx.delay(2000),\r\n      ctx.status(400),\r\n      ctx.json({ errorMessage: \"Could not rename the playlist\" })\r\n    );\r\n  }\r\n);\r\n\r\nexport default handler;\r\n","import { rest } from \"msw\";\r\nimport urls from \"../urls\";\r\nimport data from \"../mockedData\";\r\n\r\nconst { playlists } = data;\r\n\r\nconst handlers = [\r\n  rest.get(`${urls.api}/me`, (req, res, ctx) => {\r\n    return res(ctx.json({ id: \"userId\" }));\r\n  }),\r\n  rest.post(`${urls.api}/users/userId/playlists`, async (req, res, ctx) => {\r\n    const id = String(Number.parseInt(Math.random() * 1e10, 10));\r\n    const { name } = await req.json();\r\n    playlists.push({ id, name });\r\n    return res(ctx.json({ id }));\r\n  }),\r\n  rest.post(`${urls.api}/playlists/:requestId/tracks`, (req, res, ctx) => {\r\n    const { requestId } = req.params;\r\n    const createdPlaylist = playlists.find(({ id }) => id === requestId);\r\n    const { length } = req.url.searchParams.get(\"uris\").split(\",\");\r\n    createdPlaylist.tracks = { total: length };\r\n    return res(ctx.delay(3000), ctx.json({}));\r\n  }),\r\n];\r\n\r\nexport default handlers;\r\n","import { rest } from \"msw\";\r\nimport search from \"./endpoints/search\";\r\nimport userPlaylists from \"./endpoints/userPlaylists\";\r\nimport rename from \"./endpoints/rename\";\r\nimport save from \"./endpoints/save\";\r\n\r\nexport const handlers = [].concat(\r\n  search,\r\n  userPlaylists,\r\n  rename,\r\n  save,\r\n  rest.all(\"*\", (req, res, ctx) => {\r\n    return req.passthrough();\r\n  })\r\n);\r\n","import { setupWorker } from \"msw\";\r\nimport { handlers } from \"./handlers\";\r\n\r\nimport \"./mockAuthState.js\";\r\n\r\nexport const worker = setupWorker(...handlers);\r\n"],"sourceRoot":""}