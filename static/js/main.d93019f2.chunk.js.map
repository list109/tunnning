{"version":3,"sources":["mocks/mockAuthState.js","components/SearchBar/SearchBar.js","components/Icons/Icons.js","components/Track/Track.js","components/TrackList/TrackList.js","components/SearchResults/SearchResults.js","components/Player/Player.js","components/CurrentPlaylist/CurrentPlaylist.js","components/Playlist/Playlist.js","components/UserPlaylists/UserPlaylists.js","components/Playlists/Playlists.js","utils/Spotify.js","components/App/App.js","mocks/urls.js","mocks/mockedData.js","mocks/endpoints/search.js","mocks/endpoints/userPlaylists.js","mocks/endpoints/rename.js","mocks/endpoints/save.js","mocks/handlers.js","mocks/browser.js","index.js"],"names":["localStorage","setItem","Date","now","SearchBar","searchTerm","onChange","onSearch","onKeyDown","className","value","placeholder","target","code","onClick","Icons","play","viewBox","xmlns","d","pause","forward","next","rewind","volume","mute","undo","remove","playlists","loading","edit","replace","reload","handle","get","iconName","w","h","this","Track","track","isRemoval","onMovement","onPlayButton","playingTrackID","index","name","artists","album","isRepeated","id","handleMoveTrack","handlePlayButton","draggableId","provided","snapshot","isDragging","ref","innerRef","draggableProps","type","dragHandleProps","getMessage","tracksLength","isDraggingOver","draggingFromThisWith","TrackList","tracks","onAdd","onRemove","droppableId","isDropDisabled","droppableProps","map","length","SearchResults","containerRef","React","createRef","props","results","isSearching","icon","trackList","container","current","setTimeout","classList","add","Component","Player","state","muted","currentPosition","playerRef","volRef","playbackRef","player","Audio","preview_url","handleRewindClick","readyState","currentTime","seeking","rewoundTime","Math","max","handlePlayClick","handleNextClick","onNextButton","handleForwardClick","duration","forwardTime","min","handlePlaybackClick","e","fraction","getFraction","toFixed","onloadedmetadata","handleMuteClick","isMuted","setState","handleVolumeClick","handleTimeUpdate","handleEnded","onPlayEnded","child","currentTarget","clientX","left","getBoundingClientRect","offsetWidth","seconds","_passed","floor","_total","convertToTimeFormat","Number","parseInt","item","join","paused","songName","title","passed","total","style","width","oncanplay","catch","error","console","log","onplaying","ontimeupdate","onseeking","onseeked","onemptied","onended","prevProps","src","load","ended","dir","CurrentPlaylist","playlistRef","disableUndo","onUndo","onRemoveTrack","onNameChange","onSave","isSaving","disabled","playlist","height","offsetHeight","ontransitionend","propertyName","prevTracks","clientHeight","scrollHeight","prevHeight","getComputedStyle","getPropertyValue","Playlist","onRename","isRenaming","headerRef","buttonRef","header","contentEditable","isContentEditable","focus","selection","getSelection","removeAllRanges","collapse","firstChild","onBlur","rel","relatedTarget","contains","textContent","prevName","onKeyPress","key","UserPlaylists","resizeContainer","prevIsToggled","isToggled","prevPlaylists","noToggle","noChange","message","onLoad","content","getPlaylistsTemplate","onRenamePlaylist","startLoading","changeClasses","Playlists","togglePlaylists","playlistName","defaultName","playlistTracks","onUndoPlaylist","onSavePlaylist","userPlaylists","onLoadPlaylists","isLoading","Spotify","urls","authorize","api","getUrl","endpoint","token","stateLength","searchTrack","term","getAccessToken","url","URL","searchParams","set","options","headers","getRequestHeaders","fetchJson","items","savePlaylist","trackURIs","getUserId","userId","createPlaylist","playlistResponse","saveTracks","method","body","JSON","stringify","getPlaylists","renamePlaylist","fetch","response","SpotifyError","status","object","statusText","ok","jsonResponse","json","storedToken","getItem","storedExpiration","getHashParams","access_token","expiration","expires_in","storedState","removeItem","window","history","replaceState","location","origin","redirectToAuthorization","matches","hash","slice","params","regex","exec","decodeURIComponent","generateRandomState","stateLenght","encodeURIComponent","possible","randomString","i","random","Authorization","Error","App","searchResults","playingTrack","handleTermChange","getEnterDownHandler","callback","keyValue","search","then","err","finally","addTrack","filter","removeTrack","updatePlaylistName","savedPlaylist","undoPlaylist","loadUserPlaylists","renameUserPlaylist","targetPlaylist","find","successfulRequest","Boolean","trackPlayButton","pauseUpdate","playingTrackUpdate","Object","assign","playerPlayButton","playerNextButton","lists","keys","findIndex","nextTrack","playerPlayEnded","onDragStart","start","onDragUpdate","update","onDragEnd","ending","destination","source","sourceId","sourceIndex","destId","destIndex","draggable","sourceState","Array","from","splice","destState","sourceDroppable","data","handler","rest","req","res","ctx","delay","put","a","requestId","errorMessage","handlers","post","String","push","createdPlaylist","split","concat","rename","all","passthrough","setupWorker","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d93019f2.chunk.js","sourcesContent":["localStorage.setItem(\"token\", \"validToken\");\r\nlocalStorage.setItem(\"expiration\", 1e10 + Date.now());\r\n","import React from 'react'\r\nimport './SearchBar.css'\r\n\r\nexport function SearchBar({ searchTerm, onChange, onSearch, onKeyDown }) {\r\n  const handleChange = ({ target }) => onChange(target.value)\r\n  const handleKeyDown = ({ code }) => onKeyDown(code)\r\n\r\n  return (\r\n    <div className=\"SearchBar\">\r\n      <input\r\n        value={searchTerm}\r\n        placeholder=\"Enter A Song, Album, or Artist\"\r\n        onChange={handleChange}\r\n        onKeyDown={handleKeyDown}\r\n      />\r\n      <button className=\"SearchButton\" onClick={onSearch}>\r\n        SEARCH\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\n\r\nexport const Icons = {\r\n  play: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>play</title>\r\n      <path d=\"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13zM12 9l12 7-12 7z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  pause: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>pause</title>\r\n      <path d=\"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13zM10 10h4v12h-4zM18 10h4v12h-4z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  forward: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>forward</title>\r\n      <path d=\"M13.219 15.188q0 0.328 0.469 0.328 0.234 0 0.328-0.094l0.188-0.234q0.094-0.188 0.094-0.281v-2.016q-0.094-0.188-0.094-0.281t-0.211-0.211-0.305-0.117q-0.141 0-0.281 0.141l-0.188 0.188q-0.141 0.188-0.141 0.281v2.016q0.141 0.188 0.141 0.281zM15.094 14.203q0 0.609-0.094 0.797l-0.281 0.609q-0.328 0.281-0.516 0.281-0.094 0-0.305 0.047t-0.305 0.047q-0.422 0-0.609-0.094-0.094-0.047-0.234-0.141t-0.234-0.141q-0.422-0.234-0.422-1.406v-0.703q0-0.609 0.094-0.797l0.328-0.609q0.281-0.281 0.469-0.281 0.094 0 0.305-0.047t0.305-0.047q0.422 0 0.609 0.094 0.094 0.047 0.258 0.141t0.258 0.141 0.281 0.609q0.094 0.281 0.094 0.797v0.703zM10.922 15.984h-0.938v-3.281l-0.984 0.281v-0.703l1.781-0.563h0.141v4.266zM3.984 12.984q0-3.281 2.344-5.625t5.672-2.344v-4.031l5.016 5.016-5.016 5.016v-4.031q-2.438 0-4.219 1.758t-1.781 4.242 1.781 4.242 4.219 1.758 4.219-1.758 1.781-4.242h2.016q0 3.328-2.367 5.672t-5.648 2.344-5.648-2.344-2.367-5.672z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  next: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>next</title>\r\n      <path d=\"M24 4v24h-4v-11l-10 10v-22l10 10v-11z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  rewind: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>rewind</title>\r\n      <path d=\"M13.219 15.188q0 0.328 0.469 0.328 0.234 0 0.328-0.094l0.188-0.234q0.094-0.188 0.094-0.281v-2.016q-0.094-0.188-0.094-0.281t-0.211-0.211-0.305-0.117q-0.141 0-0.281 0.141l-0.188 0.188q-0.141 0.188-0.141 0.281v2.016q0.141 0.188 0.141 0.281zM15.188 14.203q0 0.609-0.094 0.797l-0.281 0.609q-0.328 0.281-0.516 0.281-0.094 0-0.305 0.047t-0.305 0.047q-0.422 0-0.609-0.094-0.094-0.047-0.234-0.141t-0.234-0.141q-0.422-0.234-0.422-1.406v-0.703q0-0.609 0.094-0.797l0.328-0.609q0.281-0.281 0.469-0.281 0.094 0 0.305-0.047t0.305-0.047q0.422 0 0.609 0.094 0.094 0.047 0.258 0.141t0.258 0.141 0.281 0.609q0.094 0.281 0.094 0.797v0.703zM10.922 15.984h-0.938v-3.281l-0.984 0.281v-0.703l1.781-0.563h0.141v4.266zM12 5.016q3.328 0 5.672 2.344t2.344 5.625q0 3.328-2.367 5.672t-5.648 2.344-5.648-2.344-2.367-5.672h2.016q0 2.484 1.781 4.242t4.219 1.758 4.219-1.758 1.781-4.242-1.781-4.242-4.219-1.758v4.031l-5.016-5.016 5.016-5.016v4.031z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  volume: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>volume</title>\r\n      <path d=\"M22.485 25.985c-0.384 0-0.768-0.146-1.061-0.439-0.586-0.586-0.586-1.535 0-2.121 4.094-4.094 4.094-10.755 0-14.849-0.586-0.586-0.586-1.536 0-2.121s1.536-0.586 2.121 0c2.55 2.55 3.954 5.94 3.954 9.546s-1.404 6.996-3.954 9.546c-0.293 0.293-0.677 0.439-1.061 0.439v0zM17.157 23.157c-0.384 0-0.768-0.146-1.061-0.439-0.586-0.586-0.586-1.535 0-2.121 2.534-2.534 2.534-6.658 0-9.192-0.586-0.586-0.586-1.536 0-2.121s1.535-0.586 2.121 0c3.704 3.704 3.704 9.731 0 13.435-0.293 0.293-0.677 0.439-1.061 0.439z\"></path>\r\n      <path d=\"M13 30c-0.26 0-0.516-0.102-0.707-0.293l-7.707-7.707h-3.586c-0.552 0-1-0.448-1-1v-10c0-0.552 0.448-1 1-1h3.586l7.707-7.707c0.286-0.286 0.716-0.372 1.090-0.217s0.617 0.519 0.617 0.924v26c0 0.404-0.244 0.769-0.617 0.924-0.124 0.051-0.254 0.076-0.383 0.076z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  mute: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>mute</title>\r\n      <path d=\"M30 19.348v2.652h-2.652l-3.348-3.348-3.348 3.348h-2.652v-2.652l3.348-3.348-3.348-3.348v-2.652h2.652l3.348 3.348 3.348-3.348h2.652v2.652l-3.348 3.348 3.348 3.348z\"></path>\r\n      <path d=\"M13 30c-0.26 0-0.516-0.102-0.707-0.293l-7.707-7.707h-3.586c-0.552 0-1-0.448-1-1v-10c0-0.552 0.448-1 1-1h3.586l7.707-7.707c0.286-0.286 0.716-0.372 1.090-0.217s0.617 0.519 0.617 0.924v26c0 0.404-0.244 0.769-0.617 0.924-0.124 0.051-0.254 0.076-0.383 0.076z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  undo: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>undo</title>\r\n      <path d=\"M28 8v20h-24v-4h20v-12h-6.071l3.657 3.66-2.828 2.83-8.485-8.484 8.485-8.485 2.828 2.826-3.657 3.653h10.071z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  remove: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>remove playlist</title>\r\n      <path d=\"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13z\"></path>\r\n      <path d=\"M21 8l-5 5-5-5-3 3 5 5-5 5 3 3 5-5 5 5 3-3-5-5 5-5z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  playlists: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>personal playlists</title>\r\n      <path d=\"M16 17c0 1.657-1.343 3-3 3v0h-2c-1.657 0-3-1.343-3-3s1.343-3 3-3v0h2c0.001 0 0.003 0 0.004 0 0.357 0 0.699 0.062 1.016 0.177l-0.021-0.007v-13.17l6-1v4l-4 0.67v12.33zM0 3h12v2h-12v-2zM0 7h12v2h-12v-2zM0 11h12v2h-12v-2zM0 15h6v2h-6v-2z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  loading: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>loading</title>\r\n      <path d=\"M32 16c-0.040-2.089-0.493-4.172-1.331-6.077-0.834-1.906-2.046-3.633-3.533-5.060-1.486-1.428-3.248-2.557-5.156-3.302-1.906-0.748-3.956-1.105-5.981-1.061-2.025 0.040-4.042 0.48-5.885 1.292-1.845 0.809-3.517 1.983-4.898 3.424s-2.474 3.147-3.193 4.994c-0.722 1.846-1.067 3.829-1.023 5.79 0.040 1.961 0.468 3.911 1.254 5.694 0.784 1.784 1.921 3.401 3.316 4.736 1.394 1.336 3.046 2.391 4.832 3.085 1.785 0.697 3.701 1.028 5.598 0.985 1.897-0.040 3.78-0.455 5.502-1.216 1.723-0.759 3.285-1.859 4.574-3.208 1.29-1.348 2.308-2.945 2.977-4.67 0.407-1.046 0.684-2.137 0.829-3.244 0.039 0.002 0.078 0.004 0.118 0.004 1.105 0 2-0.895 2-2 0-0.056-0.003-0.112-0.007-0.167h0.007zM28.822 21.311c-0.733 1.663-1.796 3.169-3.099 4.412s-2.844 2.225-4.508 2.868c-1.663 0.646-3.447 0.952-5.215 0.909-1.769-0.041-3.519-0.429-5.119-1.14-1.602-0.708-3.053-1.734-4.25-2.991s-2.141-2.743-2.76-4.346c-0.621-1.603-0.913-3.319-0.871-5.024 0.041-1.705 0.417-3.388 1.102-4.928 0.683-1.541 1.672-2.937 2.883-4.088s2.642-2.058 4.184-2.652c1.542-0.596 3.192-0.875 4.832-0.833 1.641 0.041 3.257 0.404 4.736 1.064 1.48 0.658 2.82 1.609 3.926 2.774s1.975 2.54 2.543 4.021c0.57 1.481 0.837 3.064 0.794 4.641h0.007c-0.005 0.055-0.007 0.11-0.007 0.167 0 1.032 0.781 1.88 1.784 1.988-0.195 1.088-0.517 2.151-0.962 3.156z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  edit: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>edit title</title>\r\n      <path d=\"M12 21h9c0.552 0 1-0.448 1-1s-0.448-1-1-1h-9c-0.552 0-1 0.448-1 1s0.448 1 1 1zM15.793 2.793l-12.5 12.5c-0.122 0.121-0.217 0.28-0.263 0.465l-1 4c-0.039 0.15-0.042 0.318 0 0.485 0.134 0.536 0.677 0.862 1.213 0.728l4-1c0.167-0.041 0.33-0.129 0.465-0.263l12.5-12.5c0.609-0.609 0.914-1.41 0.914-2.207s-0.305-1.598-0.914-2.207-1.411-0.915-2.208-0.915-1.598 0.305-2.207 0.914zM17.207 4.207c0.219-0.219 0.504-0.328 0.793-0.328s0.574 0.109 0.793 0.328 0.328 0.504 0.328 0.793-0.109 0.574-0.328 0.793l-12.304 12.304-2.115 0.529 0.529-2.115z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  replace: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>replace</title>\r\n      <path d=\"M28 18.5v3c0 0.266-0.234 0.5-0.5 0.5h-21.5v3c0 0.266-0.219 0.5-0.5 0.5-0.141 0-0.266-0.063-0.375-0.156l-4.984-5c-0.094-0.094-0.141-0.219-0.141-0.344 0-0.141 0.047-0.266 0.141-0.359l5-5c0.094-0.094 0.234-0.141 0.359-0.141 0.266 0 0.5 0.219 0.5 0.5v3h21.5c0.266 0 0.5 0.219 0.5 0.5zM28 10c0 0.125-0.047 0.266-0.141 0.359l-5 5c-0.094 0.094-0.234 0.141-0.359 0.141-0.266 0-0.5-0.234-0.5-0.5v-3h-21.5c-0.266 0-0.5-0.234-0.5-0.5v-3c0-0.266 0.234-0.5 0.5-0.5h21.5v-3c0-0.281 0.219-0.5 0.5-0.5 0.141 0 0.266 0.063 0.375 0.156l4.984 4.984c0.094 0.094 0.141 0.234 0.141 0.359z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  reload: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>reload</title>\r\n      <path d=\"M23.609 16.5c0 0.031 0 0.078-0.016 0.109-1.328 5.531-5.891 9.391-11.656 9.391-3.047 0-6-1.203-8.219-3.313l-2.016 2.016c-0.187 0.187-0.438 0.297-0.703 0.297-0.547 0-1-0.453-1-1v-7c0-0.547 0.453-1 1-1h7c0.547 0 1 0.453 1 1 0 0.266-0.109 0.516-0.297 0.703l-2.141 2.141c1.469 1.375 3.422 2.156 5.437 2.156 2.781 0 5.359-1.437 6.813-3.813 0.375-0.609 0.562-1.203 0.828-1.828 0.078-0.219 0.234-0.359 0.469-0.359h3c0.281 0 0.5 0.234 0.5 0.5zM24 4v7c0 0.547-0.453 1-1 1h-7c-0.547 0-1-0.453-1-1 0-0.266 0.109-0.516 0.297-0.703l2.156-2.156c-1.484-1.375-3.437-2.141-5.453-2.141-2.781 0-5.359 1.437-6.813 3.813-0.375 0.609-0.562 1.203-0.828 1.828-0.078 0.219-0.234 0.359-0.469 0.359h-3.109c-0.281 0-0.5-0.234-0.5-0.5v-0.109c1.344-5.547 5.953-9.391 11.719-9.391 3.063 0 6.047 1.219 8.266 3.313l2.031-2.016c0.187-0.187 0.438-0.297 0.703-0.297 0.547 0 1 0.453 1 1z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  handle: (viewBox) => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\r\n      <title>handle</title>\r\n      <path d=\"M15 15.984q0.797 0 1.406 0.609t0.609 1.406-0.609 1.406-1.406 0.609-1.406-0.609-0.609-1.406 0.609-1.406 1.406-0.609zM15 9.984q0.797 0 1.406 0.609t0.609 1.406-0.609 1.406-1.406 0.609-1.406-0.609-0.609-1.406 0.609-1.406 1.406-0.609zM15 8.016q-0.797 0-1.406-0.609t-0.609-1.406 0.609-1.406 1.406-0.609 1.406 0.609 0.609 1.406-0.609 1.406-1.406 0.609zM9 3.984q0.797 0 1.406 0.609t0.609 1.406-0.609 1.406-1.406 0.609-1.406-0.609-0.609-1.406 0.609-1.406 1.406-0.609zM9 9.984q0.797 0 1.406 0.609t0.609 1.406-0.609 1.406-1.406 0.609-1.406-0.609-0.609-1.406 0.609-1.406 1.406-0.609zM11.016 18q0 0.797-0.609 1.406t-1.406 0.609-1.406-0.609-0.609-1.406 0.609-1.406 1.406-0.609 1.406 0.609 0.609 1.406z\"></path>\r\n    </svg>\r\n  ),\r\n\r\n  get(iconName, w = 32, h) {\r\n    const viewBox = `0 0 ${w} ${h || w}`;\r\n    return this[iconName](viewBox);\r\n  },\r\n};\r\n","import React from \"react\";\r\nimport { Icons } from \"../Icons/Icons\";\r\nimport \"./Track.css\";\r\nimport { Draggable } from \"react-beautiful-dnd\";\r\n\r\nexport function Track({\r\n  track,\r\n  isRemoval,\r\n  onMovement,\r\n  onPlayButton,\r\n  playingTrackID = null,\r\n  index,\r\n}) {\r\n  const { name, artists, album, id } = track;\r\n  const isRepeated = playingTrackID === id;\r\n  const handleMoveTrack = () => onMovement(track);\r\n  const handlePlayButton = () => onPlayButton(track, isRepeated);\r\n  return (\r\n    <Draggable draggableId={track.id} index={index}>\r\n      {(provided, snapshot) => (\r\n        <div\r\n          className={`Track ${snapshot.isDragging ? \"draggable\" : \"\"} `}\r\n          ref={provided.innerRef}\r\n          {...provided.draggableProps}\r\n        >\r\n          <div className=\"Track-information\">\r\n            <h3 className=\"Track-information-title\">{name}</h3>\r\n            <p className=\"Track-information-artist\">\r\n              {artists[0]?.name} | {album?.name}\r\n            </p>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"Track-button Track-play\"\r\n            onClick={handlePlayButton}\r\n          >\r\n            {isRepeated ? Icons.get(\"pause\") : Icons.get(\"play\")}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"Track-button Track-action\"\r\n            onClick={handleMoveTrack}\r\n          >\r\n            {isRemoval ? \"-\" : \"+\"}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"Track-button Track-handle\"\r\n            {...provided.dragHandleProps}\r\n          >\r\n            {Icons.get(\"handle\", 20)}\r\n          </button>\r\n        </div>\r\n      )}\r\n    </Draggable>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Track } from \"../Track/Track\";\r\nimport \"./TrackList.css\";\r\nimport { Droppable } from \"react-beautiful-dnd\";\r\n\r\nconst getMessage = ({ snapshot, tracksLength }) => {\r\n  const { isDraggingOver, draggingFromThisWith } = snapshot;\r\n\r\n  if (\r\n    isDraggingOver &&\r\n    tracksLength <= 1 &&\r\n    (draggingFromThisWith || tracksLength < 1)\r\n  )\r\n    return <div className=\"TrackList-message dragging\">+</div>;\r\n\r\n  if (tracksLength < 1)\r\n    return (\r\n      <div className=\"TrackList-message\">\r\n        <p>Drag'n'drop or add some tracks</p>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport function TrackList({\r\n  tracks,\r\n  isRemoval,\r\n  onAdd,\r\n  onRemove,\r\n  onPlayButton,\r\n  playingTrackID,\r\n  droppableId,\r\n  isDropDisabled = false,\r\n}) {\r\n  return (\r\n    <Droppable droppableId={droppableId} isDropDisabled={isDropDisabled}>\r\n      {(provided, snapshot) => (\r\n        <div\r\n          className={`TrackList${\r\n            snapshot.isDraggingOver ? \" draggingOver\" : \"\"\r\n          }`}\r\n          ref={provided.innerRef}\r\n          {...provided.droppableProps}\r\n        >\r\n          {tracks.map((track, index) => (\r\n            <Track\r\n              key={track.id}\r\n              track={track}\r\n              isRemoval={isRemoval}\r\n              onMovement={isRemoval ? onRemove : onAdd}\r\n              onPlayButton={onPlayButton}\r\n              playingTrackID={playingTrackID}\r\n              index={index}\r\n            />\r\n          ))}\r\n          {tracks.length >= 1 && provided.placeholder}\r\n          {getMessage({ snapshot, tracksLength: tracks.length })}\r\n        </div>\r\n      )}\r\n    </Droppable>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { TrackList } from \"../TrackList/TrackList\";\r\nimport { Icons } from \"../Icons/Icons.js\";\r\nimport \"./SearchResults.css\";\r\n\r\nexport class SearchResults extends React.Component {\r\n  containerRef = React.createRef();\r\n  render() {\r\n    const { results, onAdd, onPlayButton, playingTrackID, isSearching } =\r\n      this.props;\r\n    const icon = <i className=\"SearchResults-icon\">{Icons.get(\"loading\")}</i>;\r\n    const trackList = (\r\n      <TrackList\r\n        tracks={results}\r\n        isRemoval={false}\r\n        onAdd={onAdd}\r\n        onPlayButton={onPlayButton}\r\n        playingTrackID={playingTrackID}\r\n        droppableId=\"searchResults\"\r\n      />\r\n    );\r\n\r\n    return (\r\n      <div className=\"SearchResults\" ref={this.containerRef}>\r\n        <h2 className=\"SearchResults-header\">Results</h2>\r\n        {isSearching ? icon : trackList}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const { isSearching } = this.props;\r\n    const { current: container } = this.containerRef;\r\n    if (isSearching) {\r\n      setTimeout(() => container.classList.add(\"loading\"));\r\n    } else {\r\n      container.classList.remove(\"loading\");\r\n    }\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Icons } from \"../Icons/Icons\";\r\nimport \"./Player.css\";\r\n\r\nexport class Player extends React.Component {\r\n  state = {\r\n    muted: false,\r\n    volume: 0.5,\r\n    currentPosition: 0,\r\n  };\r\n  playerRef = React.createRef();\r\n  volRef = React.createRef();\r\n  playbackRef = React.createRef();\r\n  player = new Audio(this.props.track.preview_url);\r\n\r\n  handleRewindClick = () => {\r\n    const { readyState, currentTime, seeking } = this.player;\r\n\r\n    if (readyState < 1 || seeking) return;\r\n\r\n    const rewoundTime = Math.max(currentTime - 10, 0);\r\n    this.player.currentTime = rewoundTime;\r\n  };\r\n\r\n  handlePlayClick = () => this.props.onPlayButton();\r\n\r\n  handleNextClick = () => this.props.onNextButton();\r\n\r\n  handleForwardClick = () => {\r\n    const { readyState, currentTime, seeking, duration } = this.player;\r\n\r\n    if (readyState < 1 && currentTime === 0) {\r\n      this.player.currentTime += 10;\r\n      return;\r\n    }\r\n\r\n    if (seeking) return;\r\n\r\n    const forwardTime = Math.min(currentTime + 10, duration);\r\n    this.player.currentTime = forwardTime;\r\n  };\r\n\r\n  handlePlaybackClick = (e) => {\r\n    const fraction = this.getFraction(e, this.playbackRef.current);\r\n    const currentPosition =\r\n      (fraction < 0.02 && \"0\") ||\r\n      (fraction > 0.98 && \"1\") ||\r\n      fraction.toFixed(5);\r\n\r\n    // first set the time and then upon the successful loading, set the position to change the width as the timeupdate event is happening\r\n\r\n    if (this.player.readyState < 1) {\r\n      this.player.onloadedmetadata = () => {\r\n        this.player.currentTime =\r\n          (this.player.duration * currentPosition).toFixed(5) || 0;\r\n      };\r\n\r\n      return;\r\n    }\r\n\r\n    this.player.currentTime =\r\n      (this.player.duration * currentPosition).toFixed(5) || 0;\r\n  };\r\n\r\n  handleMuteClick = () => {\r\n    const isMuted = !this.state.muted;\r\n    this.setState({ muted: isMuted });\r\n  };\r\n\r\n  handleVolumeClick = (e) => {\r\n    const fraction = this.getFraction(e, this.volRef.current);\r\n    const volume =\r\n      (fraction < 0.1 && \"0\") || (fraction > 0.9 && \"1\") || fraction.toFixed(5);\r\n    this.setState({ volume, muted: false });\r\n  };\r\n\r\n  handleTimeUpdate = () => {\r\n    this.setState({\r\n      currentPosition: (this.player.currentTime / this.player.duration).toFixed(\r\n        5\r\n      ),\r\n    });\r\n  };\r\n\r\n  handleEnded = () => this.props.onPlayEnded();\r\n\r\n  getFraction = ({ currentTarget: container, target, clientX }, child) => {\r\n    if (container === target) return 1;\r\n\r\n    const { left } = container.getBoundingClientRect();\r\n\r\n    if (clientX < left) return 0;\r\n\r\n    const clickedPoint = clientX - left;\r\n\r\n    return clickedPoint / child.offsetWidth;\r\n  };\r\n\r\n  seconds = {\r\n    set passed(value) {\r\n      this._passed = Math.floor(value);\r\n    },\r\n    set total(value) {\r\n      this._total = Math.floor(value);\r\n    },\r\n    get passed() {\r\n      return this.convertToTimeFormat(this._passed);\r\n    },\r\n    get total() {\r\n      return this.convertToTimeFormat(this._total);\r\n    },\r\n\r\n    convertToTimeFormat: (value) => {\r\n      const minuts = Number.parseInt(value / 60);\r\n      const seconds = value % 60;\r\n\r\n      return [minuts, seconds]\r\n        .map((item) => (item < 10 ? `0${item}` : item))\r\n        .join(\":\");\r\n    },\r\n  };\r\n\r\n  render() {\r\n    const { paused, track } = this.props;\r\n    const { name: songName, artists } = track;\r\n    const { currentPosition, volume, muted } = this.state;\r\n    const { duration } = this.player;\r\n    const title = track ? `${artists[0].name} - ${songName}` : \"\";\r\n\r\n    this.seconds.passed = duration * currentPosition || 0;\r\n    this.seconds.total = duration || 0;\r\n\r\n    return (\r\n      <div className=\"Player\" ref={this.playerRef}>\r\n        <div className=\"container\">\r\n          <button\r\n            className=\"Player-button Player-rewind\"\r\n            type=\"button\"\r\n            onClick={this.handleRewindClick}\r\n          >\r\n            {Icons.get(\"rewind\", 24)}\r\n          </button>\r\n          <button\r\n            className=\"Player-button Player-play\"\r\n            type=\"button\"\r\n            onClick={this.handlePlayClick}\r\n          >\r\n            {paused ? Icons.get(\"play\") : Icons.get(\"pause\")}\r\n          </button>\r\n          <button\r\n            className=\"Player-button Player-next\"\r\n            type=\"button\"\r\n            onClick={this.handleNextClick}\r\n          >\r\n            {Icons.get(\"next\")}\r\n          </button>\r\n          <button\r\n            className=\"Player-button Player-forward\"\r\n            type=\"button\"\r\n            onClick={this.handleForwardClick}\r\n          >\r\n            {Icons.get(\"forward\", 24)}\r\n          </button>\r\n          <div className=\"Player-playback\" onClick={this.handlePlaybackClick}>\r\n            <div className=\"Player-playback-total\" ref={this.playbackRef}>\r\n              <h2 className=\"Player-playback-title\">{title}</h2>\r\n              <span\r\n                className=\"Player-playback-passed\"\r\n                style={{ width: currentPosition * 100 + \"%\" }}\r\n              ></span>\r\n            </div>\r\n          </div>\r\n          <p className=\"Player-time\">\r\n            <time className=\"Player-time-passed\">{this.seconds.passed}</time>\r\n            <time className=\"Player-time-duration\">{this.seconds.total}</time>\r\n          </p>\r\n          <button\r\n            className=\"Player-button Player-mute\"\r\n            type=\"button\"\r\n            onClick={this.handleMuteClick}\r\n          >\r\n            {this.state.muted ? Icons.get(\"mute\") : Icons.get(\"volume\")}\r\n          </button>\r\n          <div className=\"Player-volume\" onClick={this.handleVolumeClick}>\r\n            <div className=\"Player-volume-total\" ref={this.volRef}>\r\n              <span\r\n                className=\"Player-volume-level\"\r\n                style={{ width: muted ? 0 : volume * 100 + \"%\" }}\r\n              ></span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // canplay - playing - timeupdate - seeking - loadedmetadata - seeked - emptied\r\n  componentDidMount() {\r\n    setTimeout(() => (this.playerRef.current.className += \" Player-set\"));\r\n\r\n    this.player.volume = this.state.volume;\r\n\r\n    this.player.oncanplay = () => {\r\n      if (this.props.paused) return;\r\n      this.player\r\n        .play()\r\n        .catch((error) => console.log(\"the play was interrupted 1\"));\r\n      console.log(\"canplay\");\r\n    };\r\n    this.player.onplaying = () => {\r\n      if (this.props.paused) return;\r\n      this.player\r\n        .play()\r\n        .catch((error) => console.log(\"the play was interrupted 2\"));\r\n      console.log(\"playing\");\r\n    };\r\n    this.player.ontimeupdate = () => {\r\n      this.handleTimeUpdate();\r\n      console.log(\"timeupdate st\");\r\n    };\r\n    this.player.onseeking = () => console.log(\"seeking\");\r\n\r\n    this.player.onseeked = () => console.log(\"seeked\");\r\n\r\n    this.player.onemptied = () => {\r\n      this.setState({ currentPosition: 0 });\r\n      console.log(\"emptied st\");\r\n    };\r\n    this.player.onended = (e) => {\r\n      console.log(\"ended st\");\r\n      this.handleEnded();\r\n      this.setState({ currentPosition: 0 });\r\n      this.player.currentTime = 0;\r\n    };\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { track, paused } = this.props;\r\n    const { muted, volume } = this.state;\r\n    const current_track_url = track.preview_url;\r\n    const { preview_url: previos_track_url } = prevProps.track;\r\n\r\n    if (current_track_url !== previos_track_url) {\r\n      this.player.onloadedmetadata = \"\";\r\n      this.player.src = this.props.track.preview_url;\r\n      this.player.load();\r\n      return;\r\n    }\r\n\r\n    this.player.muted = muted;\r\n    this.player.volume = volume;\r\n\r\n    // if ended there will be onended event involved\r\n    if (this.player.ended) return;\r\n\r\n    paused\r\n      ? this.player.pause()\r\n      : this.player\r\n          .play()\r\n          .catch(() =>\r\n            console.dir(\"the play promise initiated was interrupted\")\r\n          );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { TrackList } from \"../TrackList/TrackList\";\r\nimport { Icons } from \"../Icons/Icons\";\r\nimport \"./CurrentPlaylist.css\";\r\n\r\nexport class CurrentPlaylist extends React.Component {\r\n  playlistRef = React.createRef();\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      tracks,\r\n      disableUndo,\r\n      onUndo,\r\n      onRemoveTrack,\r\n      onNameChange,\r\n      onSave,\r\n      onKeyDown,\r\n      onPlayButton,\r\n      playingTrackID,\r\n      isSaving,\r\n    } = this.props;\r\n\r\n    const handleNameChange = ({ target }) => onNameChange(target.value);\r\n    const handleKeyDown = ({ code }) => onKeyDown(code);\r\n\r\n    return (\r\n      <div\r\n        className={`CurrentPlaylist${isSaving ? \" saving\" : \"\"}`}\r\n        ref={this.playlistRef}\r\n      >\r\n        <div className={\"CurrentPlaylist-input\"}>\r\n          <input\r\n            value={name}\r\n            onChange={handleNameChange}\r\n            onKeyDown={handleKeyDown}\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            className=\"CurrentPlaylist-undo\"\r\n            disabled={disableUndo}\r\n            onClick={onUndo}\r\n          >\r\n            {Icons.get(\"undo\")}\r\n          </button>\r\n        </div>\r\n        <TrackList\r\n          tracks={tracks}\r\n          isRemoval={true}\r\n          onRemove={onRemoveTrack}\r\n          onPlayButton={onPlayButton}\r\n          playingTrackID={playingTrackID}\r\n          droppableId=\"playlistTracks\"\r\n          isDropDisabled={isSaving}\r\n        />\r\n        <button className={`CurrentPlaylist-save`} onClick={onSave}>\r\n          {isSaving ? \"SAVING...\" : \"SAVE TO SPOTIFY\"}\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { current: playlist } = this.playlistRef;\r\n    playlist.style.height = playlist.offsetHeight + \"px\";\r\n\r\n    playlist.ontransitionend = ({ propertyName }) => {\r\n      if (propertyName === \"height\") {\r\n        playlist.style.height = playlist.offsetHeight + \"px\";\r\n      }\r\n    };\r\n  }\r\n\r\n  componentDidUpdate({ tracks: prevTracks }) {\r\n    const { current: playlist } = this.playlistRef;\r\n    const { tracks } = this.props;\r\n    const { clientHeight, scrollHeight } = playlist;\r\n\r\n    if (prevTracks.length === 0 && tracks.length === 1) {\r\n    }\r\n\r\n    if (prevTracks.length === tracks.length) return;\r\n\r\n    if (tracks.length > prevTracks.length) {\r\n      if (clientHeight === scrollHeight) return;\r\n      playlist.style.height = playlist.scrollHeight + \"px\";\r\n    }\r\n\r\n    if (tracks.length < prevTracks.length) {\r\n      const prevHeight = playlist.offsetHeight;\r\n      playlist.style.height = \"auto\";\r\n\r\n      const height = playlist.offsetHeight;\r\n      playlist.style.height = prevHeight + \"px\";\r\n\r\n      getComputedStyle(playlist).getPropertyValue(\"height\");\r\n\r\n      playlist.style.height = height + \"px\";\r\n    }\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Icons } from \"../Icons/Icons\";\r\nimport \"./Playlist.css\";\r\n\r\nexport function Playlist({ id, name, length, onRename, isRenaming }) {\r\n  const headerRef = React.createRef();\r\n  const buttonRef = React.createRef();\r\n\r\n  const onClick = () => {\r\n    console.log(\"onClick\");\r\n\r\n    const { current: header } = headerRef;\r\n\r\n    if (isRenaming) {\r\n      header.contentEditable = false;\r\n      return;\r\n    }\r\n\r\n    const isContentEditable = header.contentEditable === \"true\" ? false : true;\r\n\r\n    header.contentEditable = isContentEditable;\r\n\r\n    if (isContentEditable) {\r\n      header.focus();\r\n      const selection = getSelection();\r\n      selection.removeAllRanges();\r\n      selection.collapse(header.firstChild, header.firstChild.length);\r\n    }\r\n  };\r\n\r\n  const handleBlur = ({ currentTarget: header, relatedTarget: rel }) => {\r\n    console.log(\"handleBlur\");\r\n\r\n    const { current: button } = buttonRef;\r\n\r\n    // the button has been used\r\n    // (since a blur is fired before a click the contentEditable state doesn't change to leave  processing to the onClick event handler)\r\n    // or\r\n    // the key Enter has been used\r\n    if (button.contains(rel) || header.contentEditable === \"false\") {\r\n      if (name === header.textContent) return;\r\n\r\n      onRename({ id, name: header.textContent, prevName: name });\r\n\r\n      return;\r\n    }\r\n\r\n    header.contentEditable = false;\r\n    header.textContent = name;\r\n  };\r\n\r\n  const handleKeyPress = ({ currentTarget: header, key }) => {\r\n    if (key === \"Enter\" && header.contentEditable) {\r\n      console.log(\"handleKeyPress Enter\");\r\n      header.contentEditable = false;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`Playlist${isRenaming ? \" renaming\" : \"\"}`}>\r\n      <div className=\"Playlist-information\">\r\n        <div className=\"Playlist-title\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"Playlist-button Playlist-edit\"\r\n            onClick={onClick}\r\n            ref={buttonRef}\r\n          >\r\n            {isRenaming ? Icons.get(\"loading\", 32) : Icons.get(\"edit\", 26)}\r\n          </button>\r\n          <h3\r\n            contentEditable={false}\r\n            onBlur={handleBlur}\r\n            onKeyPress={handleKeyPress}\r\n            ref={headerRef}\r\n          >\r\n            {name}\r\n          </h3>\r\n        </div>\r\n        <p>{length} tracks</p>\r\n      </div>\r\n      {/* <button type=\"buttom\" className=\"Playlist-button Playlist-replace\">\r\n        +\r\n      </button> */}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Playlist } from \"../Playlist/Playlist\";\r\nimport { Icons } from \"../Icons/Icons\";\r\nimport \"./UserPlaylists.css\";\r\n\r\nexport class UserPlaylists extends React.Component {\r\n  containerRef = React.createRef();\r\n\r\n  render() {\r\n    const { playlists, onLoad } = this.props;\r\n    const failedLoading = typeof playlists[0] === \"string\";\r\n    const getMessage = (message) => (\r\n      <p className=\"UserPlaylists-message\">{message}</p>\r\n    );\r\n    const content = failedLoading\r\n      ? getMessage(playlists[0])\r\n      : this.getPlaylistsTemplate(playlists);\r\n\r\n    const icon = <i className=\"UserPlaylists-icon\">{Icons.get(\"loading\")}</i>;\r\n\r\n    return (\r\n      <div className=\"UserPlaylists\" ref={this.containerRef}>\r\n        <h2>\r\n          User's playlists\r\n          <button className=\"UserPlaylists-button\" onClick={onLoad}>\r\n            {Icons.get(\"reload\", 26)}\r\n          </button>\r\n        </h2>\r\n        {playlists.length ? content : icon}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getPlaylistsTemplate(playlists) {\r\n    return playlists.map(({ id, name, tracks, isRenaming }) => (\r\n      <Playlist\r\n        key={id}\r\n        id={id}\r\n        name={name}\r\n        length={tracks.total || 0}\r\n        onRename={this.props.onRenamePlaylist}\r\n        isRenaming={isRenaming}\r\n      />\r\n    ));\r\n  }\r\n\r\n  changeClasses() {\r\n    const { current: container } = this.containerRef;\r\n    const { playlists, isToggled } = this.props;\r\n\r\n    if (playlists.length < 1 && isToggled) {\r\n      setTimeout(() => container.classList.add(\"loading\"));\r\n    }\r\n\r\n    if (playlists.length) container.classList.remove(\"loading\");\r\n\r\n    container.classList[isToggled ? \"add\" : \"remove\"](\"toggled\");\r\n  }\r\n\r\n  resizeContainer = ({\r\n    isToggled: prevIsToggled,\r\n    playlists: prevPlaylists,\r\n  }) => {\r\n    const { current: container } = this.containerRef;\r\n    const { isToggled, playlists } = this.props;\r\n\r\n    const noToggle = prevIsToggled === isToggled;\r\n    const noChange = playlists.length === prevPlaylists.length;\r\n\r\n    if (noToggle && isToggled === false) return;\r\n    if (noToggle && noChange) return;\r\n\r\n    // the min height is required for the container to extend with fix value whilst data is loading\r\n    // when toggled the height can't go beside two fix values, that is min and max\r\n    container.style.height = `${\r\n      isToggled ? Math.min(Math.max(container.scrollHeight, 400), 500) : 0\r\n    }px`;\r\n  };\r\n\r\n  startLoading() {\r\n    const { isToggled, playlists, onLoad } = this.props;\r\n    if (playlists.length < 1 && isToggled) onLoad();\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { current: container } = this.containerRef;\r\n    container.style.height = \"0px\";\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    this.startLoading();\r\n    this.changeClasses();\r\n    this.resizeContainer(prevProps);\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Icons } from \"../Icons/Icons\";\r\nimport { CurrentPlaylist } from \"../CurrentPlaylist/CurrentPlaylist\";\r\nimport { UserPlaylists } from \"../UserPlaylists/UserPlaylists\";\r\nimport \"./Playlists.css\";\r\n\r\nexport class Playlists extends React.Component {\r\n  state = { isToggled: false };\r\n\r\n  togglePlaylists = () => this.setState({ isToggled: !this.state.isToggled });\r\n\r\n  render() {\r\n    const {\r\n      playlistName,\r\n      defaultName,\r\n      playlistTracks,\r\n      onRemoveTrack,\r\n      onNameChange,\r\n      onKeyDown,\r\n      onPlayButton,\r\n      playingTrackID,\r\n      onUndoPlaylist,\r\n      onSavePlaylist,\r\n      userPlaylists,\r\n      onLoadPlaylists,\r\n      onRenamePlaylist,\r\n      isSaving,\r\n      isLoading,\r\n    } = this.props;\r\n\r\n    const { isToggled } = this.state;\r\n\r\n    const disableUndo =\r\n      playlistTracks.length === 0 && playlistName === defaultName;\r\n\r\n    return (\r\n      <div className={`Playlists`}>\r\n        <button\r\n          type=\"button\"\r\n          className=\"Playlists-button\"\r\n          onClick={this.togglePlaylists}\r\n        >\r\n          {Icons.get(\"playlists\", 20)}\r\n        </button>\r\n        <div className=\"Playlists-container\">\r\n          <UserPlaylists\r\n            isToggled={isToggled}\r\n            playlists={userPlaylists}\r\n            onLoad={onLoadPlaylists}\r\n            onRenamePlaylist={onRenamePlaylist}\r\n            isLoading={isLoading}\r\n          />\r\n          <CurrentPlaylist\r\n            name={playlistName}\r\n            tracks={playlistTracks}\r\n            disableUndo={disableUndo}\r\n            playingTrackID={playingTrackID}\r\n            isSaving={isSaving}\r\n            onNameChange={onNameChange}\r\n            onUndo={onUndoPlaylist}\r\n            onSave={onSavePlaylist}\r\n            onKeyDown={onKeyDown}\r\n            onRemoveTrack={onRemoveTrack}\r\n            onPlayButton={onPlayButton}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","const CLIENT_ID = \"565c78e61f5441e8bdf1635690798d4e\";\r\nconst REDIRECT_URI = \"http://localhost:3000\";\r\nconst SCOPE = \"playlist-modify-public\";\r\n\r\nexport const Spotify = {\r\n  urls: {\r\n    authorize: `https://accounts.spotify.com/authorize`,\r\n    api: \"https://api.spotify.com/v1\",\r\n  },\r\n\r\n  getUrl(endpoint) {\r\n    const { authorize, api } = this.urls;\r\n    return endpoint === \"authorize\" ? authorize : `${api}/${endpoint}`;\r\n  },\r\n\r\n  token: \"\",\r\n  stateLength: 16,\r\n\r\n  async searchTrack(term) {\r\n    const token = this.getAccessToken();\r\n    if (!token) return [];\r\n\r\n    const url = new URL(this.getUrl(\"search\"));\r\n    url.searchParams.set(\"q\", term);\r\n    url.searchParams.set(\"type\", \"track\");\r\n\r\n    const options = {\r\n      headers: this.getRequestHeaders(),\r\n    };\r\n\r\n    const { tracks } = await this.fetchJson(url, options);\r\n\r\n    return tracks.items;\r\n  },\r\n\r\n  async savePlaylist({ name, trackURIs }) {\r\n    const token = this.getAccessToken();\r\n    if (!token) return;\r\n\r\n    const userId = await this.getUserId();\r\n    const playlistResponse = await this.createPlaylist(name, userId);\r\n    const { id } = playlistResponse;\r\n\r\n    return await this.saveTracks({ id, trackURIs });\r\n  },\r\n\r\n  async getUserId() {\r\n    const options = {\r\n      headers: this.getRequestHeaders(),\r\n    };\r\n\r\n    const { id } = await this.fetchJson(this.getUrl(\"me\"), options);\r\n\r\n    return id;\r\n  },\r\n\r\n  async createPlaylist(name, userId) {\r\n    const url = `${this.getUrl(\"users\")}/${userId}/playlists`;\r\n    const options = {\r\n      method: \"POST\",\r\n      headers: this.getRequestHeaders(),\r\n      body: JSON.stringify({\r\n        name,\r\n      }),\r\n    };\r\n\r\n    return this.fetchJson(url, options);\r\n  },\r\n\r\n  async saveTracks({ id, trackURIs }) {\r\n    const url = `${this.getUrl(\"playlists\")}/${id}/tracks?uris=${trackURIs.join(\r\n      \",\"\r\n    )}`;\r\n    const options = {\r\n      method: \"POST\",\r\n      headers: this.getRequestHeaders(),\r\n    };\r\n    return this.fetchJson(url, options);\r\n  },\r\n\r\n  async getPlaylists() {\r\n    const options = {\r\n      headers: this.getRequestHeaders(),\r\n    };\r\n\r\n    const { items: playlists } = await this.fetchJson(\r\n      this.getUrl(\"me/playlists\"),\r\n      options\r\n    );\r\n\r\n    return playlists;\r\n  },\r\n\r\n  async renamePlaylist({ id, name }) {\r\n    const url = this.getUrl(`playlists/${id}`);\r\n\r\n    const options = {\r\n      method: \"PUT\",\r\n      headers: this.getRequestHeaders(),\r\n      body: JSON.stringify({ name }),\r\n    };\r\n\r\n    return this.fetchJson(url, options);\r\n  },\r\n\r\n  async fetchJson(url, options) {\r\n    let response;\r\n\r\n    try {\r\n      response = await fetch(url, options);\r\n    } catch (err) {\r\n      throw new SpotifyError({\r\n        status: \"Network error\",\r\n        message: err.message,\r\n        object: err,\r\n      });\r\n    }\r\n\r\n    const { status, statusText } = response;\r\n\r\n    if (!response.ok) {\r\n      let message = `${\r\n        statusText && statusText + \". \"\r\n      }The response status is not ok`;\r\n      let jsonResponse = {};\r\n      try {\r\n        jsonResponse = await response.json();\r\n      } catch (err) {\r\n        throw new SpotifyError({ status, message, object: response });\r\n      }\r\n      throw new SpotifyError({\r\n        message: (jsonResponse.error && jsonResponse.error.message) || message,\r\n        status: (jsonResponse.error && jsonResponse.error.status) || status,\r\n        object: jsonResponse,\r\n      });\r\n    }\r\n\r\n    try {\r\n      const jsonResponse = await response.json();\r\n      return jsonResponse;\r\n    } catch (err) {\r\n      if (options.method === \"PUT\") return;\r\n\r\n      console.log(err.message);\r\n      throw new SpotifyError({\r\n        status: \"Incorrect response from the server\",\r\n        message: \"Could not convert the response data\",\r\n      });\r\n    }\r\n  },\r\n\r\n  getAccessToken() {\r\n    const storedToken = localStorage.getItem(\"token\");\r\n    const storedExpiration = localStorage.getItem(\"expiration\");\r\n\r\n    if (storedToken && Date.now() < storedExpiration) return storedToken;\r\n\r\n    const {\r\n      access_token: token,\r\n      expires_in: expiration,\r\n      state,\r\n    } = this.getHashParams();\r\n    const storedState = localStorage.getItem(\"state\");\r\n\r\n    if (state && state !== storedState) {\r\n      console.log(\"state mismatching error\");\r\n      return;\r\n    }\r\n\r\n    if (token && expiration) {\r\n      localStorage.removeItem(\"state\");\r\n      localStorage.setItem(\"token\", token);\r\n      localStorage.setItem(\r\n        \"expiration\",\r\n        parseInt(expiration, 10) * 1000 + Date.now()\r\n      );\r\n\r\n      window.history.replaceState({}, \"\", window.location.origin);\r\n      return token;\r\n    }\r\n\r\n    this.redirectToAuthorization();\r\n  },\r\n\r\n  getHashParams() {\r\n    const hash = window.location.hash.slice(1);\r\n    const params = {};\r\n    const regex = /([^&=;]+)=?([^&;]*)/g;\r\n\r\n    let matches;\r\n    while ((matches = regex.exec(hash))) {\r\n      params[matches[1]] = decodeURIComponent(matches[2]);\r\n    }\r\n\r\n    return params;\r\n  },\r\n\r\n  redirectToAuthorization() {\r\n    const state = this.generateRandomState(this.stateLenght);\r\n    localStorage.setItem(\"state\", state);\r\n\r\n    let url = this.getUrl(\"authorize\") + \"?\";\r\n\r\n    url += `client_id=${CLIENT_ID}&`;\r\n    url += \"response_type=token&\";\r\n    url += `redirect_uri=${encodeURIComponent(REDIRECT_URI)}&`;\r\n    url += `state=${state}&`;\r\n    url += `scope=${SCOPE}&`;\r\n\r\n    window.location = url;\r\n  },\r\n\r\n  generateRandomState(length) {\r\n    const possible =\r\n      \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n    let randomString = \"\";\r\n\r\n    for (let i = 0; i < length; i++) {\r\n      const index = Math.floor(Math.random() * possible.length);\r\n      randomString += possible[index];\r\n    }\r\n\r\n    return randomString;\r\n  },\r\n\r\n  getRequestHeaders() {\r\n    return { Authorization: `Bearer ${this.getAccessToken()}` };\r\n  },\r\n};\r\n\r\nclass SpotifyError extends Error {\r\n  constructor({ status, message, object }) {\r\n    super(message);\r\n    this.status = status;\r\n    this.object = object;\r\n  }\r\n}\r\n","import React from 'react'\r\nimport { SearchBar } from '../SearchBar/SearchBar'\r\nimport { SearchResults } from '../SearchResults/SearchResults'\r\nimport { Player } from '../Player/Player'\r\nimport { Playlists } from '../Playlists/Playlists'\r\nimport { Spotify } from '../../utils/Spotify'\r\nimport './App.css'\r\nimport { DragDropContext } from 'react-beautiful-dnd'\r\n\r\nexport class App extends React.Component {\r\n  playlistName = 'New Playlist'\r\n\r\n  state = {\r\n    searchTerm: '',\r\n    searchResults: [],\r\n    isSearching: false,\r\n\r\n    playlistName: this.playlistName,\r\n    playlistTracks: [],\r\n    isSaving: false,\r\n\r\n    userPlaylists: [],\r\n    isLoading: false,\r\n\r\n    //have to keep these player's state values on the top element to sync with other components\r\n    playingTrack: '',\r\n    paused: true\r\n  }\r\n\r\n  handleTermChange = value => this.setState({ searchTerm: value })\r\n\r\n  getEnterDownHandler = callback => {\r\n    return keyValue => keyValue === 'Enter' && callback()\r\n  }\r\n\r\n  search = () => {\r\n    this.setState({ isSearching: true })\r\n\r\n    Spotify.searchTrack(this.state.searchTerm)\r\n      .then(tracks => {\r\n        this.setState({\r\n          searchResults: [...tracks]\r\n        })\r\n      })\r\n      .catch(err => console.log('Spotify error', err.message))\r\n      .finally(() => this.setState({ isSearching: false }))\r\n  }\r\n\r\n  addTrack = track => {\r\n    const { playlistTracks, searchResults } = this.state\r\n\r\n    this.setState({\r\n      searchResults: searchResults.filter(({ id }) => track.id !== id),\r\n      playlistTracks: [...playlistTracks, track]\r\n    })\r\n  }\r\n\r\n  removeTrack = track => {\r\n    const { searchResults, playlistTracks } = this.state\r\n\r\n    this.setState({\r\n      searchResults: [...searchResults, track],\r\n      playlistTracks: playlistTracks.filter(({ id }) => id !== track.id)\r\n    })\r\n  }\r\n\r\n  updatePlaylistName = value => this.setState({ playlistName: value })\r\n\r\n  savePlaylist = () => {\r\n    const trackURIs = this.state.playlistTracks.map(({ preview_url }) => preview_url)\r\n    const { playlistName: name } = this.state\r\n\r\n    const isVerified = name && trackURIs.length > 0\r\n    if (isVerified === false) {\r\n      console.log(\"need a playlist's name or at least one track\")\r\n      return\r\n    }\r\n\r\n    this.setState({ isSaving: true })\r\n\r\n    Spotify.savePlaylist({ name, trackURIs })\r\n      .then(savedPlaylist => {\r\n        console.log('the playlist has been saved successfully')\r\n        this.setState({\r\n          playlistName: this.playlistName,\r\n          playlistTracks: [],\r\n          userPlaylists: []\r\n        })\r\n      })\r\n      .catch(err => console.log('Spotify error', err.message))\r\n      .finally(() => this.setState({ isSaving: false }))\r\n  }\r\n\r\n  undoPlaylist = () => {\r\n    const { searchResults, playlistTracks } = this.state\r\n\r\n    this.setState({\r\n      playlistName: this.playlistName,\r\n      searchResults: [...searchResults, ...playlistTracks],\r\n      playlistTracks: []\r\n    })\r\n  }\r\n\r\n  loadUserPlaylists = () => {\r\n    if (this.state.isLoading) return\r\n    this.setState({ isLoading: true, userPlaylists: [] })\r\n\r\n    Spotify.getPlaylists()\r\n      .then(playlists => {\r\n        this.setState({\r\n          userPlaylists: playlists.length\r\n            ? [...playlists]\r\n            : [\"You hasn't created any playlist on your account yet\"]\r\n        })\r\n      })\r\n      .catch(err => {\r\n        console.log('Spotify error', err.message)\r\n        this.setState({ userPlaylists: ['Error has occured'] })\r\n      })\r\n      .finally(() => this.setState({ isLoading: false }))\r\n  }\r\n\r\n  renameUserPlaylist = ({ id, name, prevName = 'Untitled' }) => {\r\n    const isVerified = id && name\r\n    if (isVerified === false)\r\n      console.log('id and name are the arguments both required to rename a playlist')\r\n\r\n    const userPlaylists = [...this.state.userPlaylists]\r\n    const targetPlaylist = userPlaylists.find(playlist => playlist.id === id)\r\n\r\n    if (targetPlaylist.isRenaming) return\r\n\r\n    targetPlaylist.isRenaming = true\r\n\r\n    this.setState({ userPlaylists: [...userPlaylists] })\r\n\r\n    let successfulRequest = false\r\n\r\n    Spotify.renamePlaylist({ id, name, prevName })\r\n      .then(() => {\r\n        console.log('Playlist has been renamed')\r\n\r\n        successfulRequest = true\r\n      })\r\n      .catch(err => {\r\n        console.log('Spotify error', err.message)\r\n      })\r\n      .finally(() => {\r\n        const userPlaylists = [...this.state.userPlaylists]\r\n        const targetPlaylist = userPlaylists.find(playlist => playlist.id === id)\r\n\r\n        //true indicates the playlist has been deleted during processing the request\r\n        if (Boolean(targetPlaylist) === false) return\r\n\r\n        if (successfulRequest && targetPlaylist.isRenaming) {\r\n          targetPlaylist.name = name\r\n        }\r\n\r\n        targetPlaylist.isRenaming = false\r\n\r\n        this.setState({ userPlaylists: [...userPlaylists] })\r\n      })\r\n  }\r\n\r\n  trackPlayButton = (track, isRepeated) => {\r\n    const pauseUpdate = { paused: !this.state.paused }\r\n    const playingTrackUpdate = {\r\n      playingTrack: Object.assign({}, track),\r\n      paused: false\r\n    }\r\n    const state = isRepeated ? pauseUpdate : playingTrackUpdate\r\n    this.setState(state)\r\n  }\r\n\r\n  playerPlayButton = () => this.setState({ paused: !this.state.paused })\r\n\r\n  playerNextButton = () => {\r\n    const { searchResults, playlistTracks, playingTrack } = this.state\r\n    const lists = { searchResults, playlistTracks }\r\n    const listNames = Object.keys(lists)\r\n\r\n    let index\r\n\r\n    for (const name of listNames) {\r\n      index = lists[name].findIndex(({ id }) => id === playingTrack.id)\r\n\r\n      if (index === -1) continue\r\n\r\n      let nextTrack = lists[name][index + 1]\r\n\r\n      if (nextTrack) {\r\n        this.setState({ playingTrack: nextTrack })\r\n        return\r\n      }\r\n\r\n      nextTrack =\r\n        name === 'searchResults'\r\n          ? playlistTracks[0] || searchResults[0]\r\n          : searchResults[0] || playlistTracks[0]\r\n\r\n      this.setState({ playingTrack: nextTrack })\r\n      return\r\n    }\r\n\r\n    // if index is still equals -1 then a new track search has occured\r\n    if (index === -1) {\r\n      this.setState({\r\n        playingTrack: playlistTracks[0] || searchResults[0] || ''\r\n      })\r\n    }\r\n  }\r\n\r\n  playerPlayEnded = () => this.setState({ paused: true })\r\n\r\n  onDragStart = start => console.log('onDragStart', start)\r\n  onDragUpdate = update => {\r\n    console.log('onDragUpdate', update)\r\n  }\r\n  onDragEnd = ending => {\r\n    console.log('onDragEnd', ending)\r\n\r\n    if (ending.destination === null) return\r\n\r\n    const { source, destination } = ending\r\n    const { droppableId: sourceId, index: sourceIndex } = source\r\n    const { droppableId: destId, index: destIndex } = destination\r\n    const draggable = this.state[sourceId][sourceIndex]\r\n\r\n    if (sourceId !== destId) {\r\n      const sourceState = Array.from(this.state[sourceId])\r\n      sourceState.splice(sourceIndex, 1)\r\n\r\n      const destState = Array.from(this.state[destId])\r\n      destState.splice(destIndex, 0, draggable)\r\n\r\n      this.setState({\r\n        [sourceId]: sourceState,\r\n        [destId]: destState\r\n      })\r\n\r\n      return\r\n    }\r\n\r\n    if (sourceIndex === destIndex) return\r\n\r\n    const sourceDroppable = Array.from(this.state[sourceId])\r\n    sourceDroppable.splice(sourceIndex, 1)\r\n    sourceDroppable.splice(destIndex, 0, draggable)\r\n    this.setState({ [sourceId]: sourceDroppable })\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      searchResults,\r\n      playlistName,\r\n      playlistTracks,\r\n      searchTerm,\r\n      paused,\r\n      playingTrack,\r\n      userPlaylists,\r\n      isSaving,\r\n      isLoading,\r\n      isSearching\r\n    } = this.state\r\n    const playingTrackID = paused ? '' : playingTrack.id\r\n\r\n    return (\r\n      <DragDropContext\r\n        onDragStart={this.onDragStart}\r\n        onDragUpdate={this.onDragUpdate}\r\n        onDragEnd={this.onDragEnd}\r\n      >\r\n        <div>\r\n          <h1>\r\n            Tu<span className=\"highlight\">nnn</span>ing\r\n          </h1>\r\n          <div className=\"App\">\r\n            <SearchBar\r\n              searchTerm={searchTerm}\r\n              onSearch={this.search}\r\n              onChange={this.handleTermChange}\r\n              onKeyDown={this.getEnterDownHandler(this.search)}\r\n            />\r\n            <div className=\"App-bars\">\r\n              <SearchResults\r\n                results={searchResults}\r\n                onAdd={this.addTrack}\r\n                onPlayButton={this.trackPlayButton}\r\n                playingTrackID={playingTrackID}\r\n                isSearching={isSearching}\r\n              />\r\n              <Playlists\r\n                playlistName={playlistName}\r\n                defaultName={this.playlistName}\r\n                playlistTracks={playlistTracks}\r\n                playingTrackID={playingTrackID}\r\n                userPlaylists={userPlaylists}\r\n                isSaving={isSaving}\r\n                onRemoveTrack={this.removeTrack}\r\n                onNameChange={this.updatePlaylistName}\r\n                onKeyDown={this.getEnterDownHandler(this.savePlaylist)}\r\n                onPlayButton={this.trackPlayButton}\r\n                onLoadPlaylists={this.loadUserPlaylists}\r\n                onUndoPlaylist={this.undoPlaylist}\r\n                onRenamePlaylist={this.renameUserPlaylist}\r\n                onSavePlaylist={this.savePlaylist}\r\n                isLoading={isLoading}\r\n              />\r\n              {playingTrack && (\r\n                <Player\r\n                  paused={paused}\r\n                  track={playingTrack}\r\n                  onPlayButton={this.playerPlayButton}\r\n                  onNextButton={this.playerNextButton}\r\n                  onPlayEnded={this.playerPlayEnded}\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </DragDropContext>\r\n    )\r\n  }\r\n}\r\n","const urls = {\r\n  authorize: `https://accounts.spotify.com/authorize`,\r\n  api: \"https://api.spotify.com/v1\",\r\n};\r\n\r\nexport default urls;\r\n","const data = {\r\n  playlists: [\r\n    { id: \"1\", tracks: { total: \"11\" }, name: \"New Playlist\" },\r\n    { id: \"2\", tracks: { total: \"23\" }, name: \"playlist for a vacation\" },\r\n    { id: \"3\", tracks: { total: \"7\" }, name: \"for concentrating\" },\r\n  ],\r\n  searchResults: [\r\n    {\r\n      id: \"1\",\r\n      name: \"Tell Me Why\",\r\n      artists: [{ name: \"Cassette\" }],\r\n      album: { name: \"Album 1\" },\r\n      preview_url:\r\n        \"https://40s.musify.club/get/69/25508826/64056776/1/1/0/cassette-tell-me-why.mp3\",\r\n    },\r\n    {\r\n      id: \"2\",\r\n      name: \"Shut Down\",\r\n      artists: [{ name: \"BLACKPINK\" }],\r\n      album: { name: \"Album 2\" },\r\n      preview_url:\r\n        \"https://37ts.musify.club/get/70/26324288/65712290/1/1/0/blackpink-shut-down.mp3\",\r\n    },\r\n    {\r\n      id: \"3\",\r\n      name: \"Движ\",\r\n      artists: [{ name: \"Filatov & Karas\" }],\r\n      album: { name: \"Album 3\" },\r\n      preview_url:\r\n        \"https://40s.musify.club/get/69/26086361/65198364/1/1/0/filatov-and-karas-%d0%b4%d0%b2%d0%b8%d0%b6.mp3\",\r\n    },\r\n    {\r\n      id: \"4\",\r\n      name: \"Полина Гагарина\",\r\n      artists: [{ name: \"Вода\" }],\r\n      album: { name: \"Album 4\" },\r\n      preview_url:\r\n        \"https://musify.club/track/play/18381548/%d0%bf%d0%be%d0%bb%d0%b8%d0%bd%d0%b0-%d0%b3%d0%b0%d0%b3%d0%b0%d1%80%d0%b8%d0%bd%d0%b0-%d0%b2%d0%be%d0%b4%d0%b0.mp3\",\r\n    },\r\n    {\r\n      id: \"5\",\r\n      name: \"David Guetta ft.Robin Schulz\",\r\n      artists: [{ name: \"David Guetta ft.Robin Schulz\" }],\r\n      album: { name: \"Album 5\" },\r\n      preview_url:\r\n        \"https://musify.club/track/play/18273071/robin-schulz-david-guetta-robin-schulz-and-david-guetta-on-repeat.mp3\",\r\n    },\r\n    {\r\n      id: \"6\",\r\n      name: \"Tell Me Why\",\r\n      artists: [{ name: \"Cassette\" }],\r\n      album: { name: \"Album 1\" },\r\n      preview_url:\r\n        \"https://40s.musify.club/get/69/25508826/64056776/1/1/0/cassette-tell-me-why.mp3\",\r\n    },\r\n    {\r\n      id: \"7\",\r\n      name: \"Shut Down\",\r\n      artists: [{ name: \"BLACKPINK\" }],\r\n      album: { name: \"Album 2\" },\r\n      preview_url:\r\n        \"https://37ts.musify.club/get/70/26324288/65712290/1/1/0/blackpink-shut-down.mp3\",\r\n    },\r\n    {\r\n      id: \"8\",\r\n      name: \"Движ\",\r\n      artists: [{ name: \"Filatov & Karas\" }],\r\n      album: { name: \"Album 3\" },\r\n      preview_url:\r\n        \"https://40s.musify.club/get/69/26086361/65198364/1/1/0/filatov-and-karas-%d0%b4%d0%b2%d0%b8%d0%b6.mp3\",\r\n    },\r\n    {\r\n      id: \"9\",\r\n      name: \"Полина Гагарина\",\r\n      artists: [{ name: \"Вода\" }],\r\n      album: { name: \"Album 4\" },\r\n      preview_url:\r\n        \"https://musify.club/track/play/18381548/%d0%bf%d0%be%d0%bb%d0%b8%d0%bd%d0%b0-%d0%b3%d0%b0%d0%b3%d0%b0%d1%80%d0%b8%d0%bd%d0%b0-%d0%b2%d0%be%d0%b4%d0%b0.mp3\",\r\n    },\r\n    {\r\n      id: \"10\",\r\n      name: \"David Guetta ft.Robin Schulz\",\r\n      artists: [{ name: \"David Guetta ft.Robin Schulz\" }],\r\n      album: { name: \"Album 5\" },\r\n      preview_url:\r\n        \"https://musify.club/track/play/18273071/robin-schulz-david-guetta-robin-schulz-and-david-guetta-on-repeat.mp3\",\r\n    },\r\n    {\r\n      id: \"11\",\r\n      name: \"Tell Me Why\",\r\n      artists: [{ name: \"Cassette\" }],\r\n      album: { name: \"Album 1\" },\r\n      preview_url:\r\n        \"https://40s.musify.club/get/69/25508826/64056776/1/1/0/cassette-tell-me-why.mp3\",\r\n    },\r\n    {\r\n      id: \"12\",\r\n      name: \"Shut Down\",\r\n      artists: [{ name: \"BLACKPINK\" }],\r\n      album: { name: \"Album 2\" },\r\n      preview_url:\r\n        \"https://37ts.musify.club/get/70/26324288/65712290/1/1/0/blackpink-shut-down.mp3\",\r\n    },\r\n    {\r\n      id: \"13\",\r\n      name: \"Движ\",\r\n      artists: [{ name: \"Filatov & Karas\" }],\r\n      album: { name: \"Album 3\" },\r\n      preview_url:\r\n        \"https://40s.musify.club/get/69/26086361/65198364/1/1/0/filatov-and-karas-%d0%b4%d0%b2%d0%b8%d0%b6.mp3\",\r\n    },\r\n    {\r\n      id: \"14\",\r\n      name: \"Полина Гагарина\",\r\n      artists: [{ name: \"Вода\" }],\r\n      album: { name: \"Album 4\" },\r\n      preview_url:\r\n        \"https://musify.club/track/play/18381548/%d0%bf%d0%be%d0%bb%d0%b8%d0%bd%d0%b0-%d0%b3%d0%b0%d0%b3%d0%b0%d1%80%d0%b8%d0%bd%d0%b0-%d0%b2%d0%be%d0%b4%d0%b0.mp3\",\r\n    },\r\n  ],\r\n};\r\n\r\nexport default data;\r\n","import { rest } from \"msw\";\r\nimport urls from \"../urls\";\r\nimport data from \"../mockedData\";\r\n\r\nconst { searchResults } = data;\r\n\r\nconst handler = rest.get(`${urls.api}/search`, (req, res, ctx) => {\r\n  return res(\r\n    ctx.delay(2000),\r\n    ctx.json({ tracks: { items: [...searchResults] } })\r\n  );\r\n});\r\n\r\nexport default handler;\r\n","import { rest } from \"msw\";\r\nimport urls from \"../urls\";\r\nimport data from \"../mockedData\";\r\n\r\nconst { playlists } = data;\r\n\r\nconst handler = rest.get(`${urls.api}/me/playlists`, (req, res, ctx) => {\r\n  return res(ctx.delay(2000), ctx.json({ items: [...playlists] }));\r\n});\r\n\r\nexport default handler;\r\n","import { rest } from \"msw\";\r\nimport urls from \"../urls\";\r\nimport data from \"../mockedData\";\r\n\r\nconst { playlists } = data;\r\n\r\nconst handler = rest.put(\r\n  `${urls.api}/playlists/:requestId`,\r\n  async (req, res, ctx) => {\r\n    const { name } = await req.json();\r\n    const { requestId } = req.params;\r\n\r\n    if (requestId) {\r\n      const renamedPlaylist = playlists.find(({ id }) => id === requestId);\r\n      renamedPlaylist.name = name;\r\n      return res(ctx.delay(2000), ctx.status(200));\r\n    }\r\n    return res(\r\n      ctx.delay(2000),\r\n      ctx.status(400),\r\n      ctx.json({ errorMessage: \"Could not rename the playlist\" })\r\n    );\r\n  }\r\n);\r\n\r\nexport default handler;\r\n","import { rest } from \"msw\";\r\nimport urls from \"../urls\";\r\nimport data from \"../mockedData\";\r\n\r\nconst { playlists } = data;\r\n\r\nconst handlers = [\r\n  rest.get(`${urls.api}/me`, (req, res, ctx) => {\r\n    return res(ctx.json({ id: \"userId\" }));\r\n  }),\r\n  rest.post(`${urls.api}/users/userId/playlists`, async (req, res, ctx) => {\r\n    const id = String(Number.parseInt(Math.random() * 1e10, 10));\r\n    const { name } = await req.json();\r\n    playlists.push({ id, name });\r\n    return res(ctx.json({ id }));\r\n  }),\r\n  rest.post(`${urls.api}/playlists/:requestId/tracks`, (req, res, ctx) => {\r\n    const { requestId } = req.params;\r\n    const createdPlaylist = playlists.find(({ id }) => id === requestId);\r\n    const { length } = req.url.searchParams.get(\"uris\").split(\",\");\r\n    createdPlaylist.tracks = { total: length };\r\n    return res(ctx.delay(3000), ctx.json({}));\r\n  }),\r\n];\r\n\r\nexport default handlers;\r\n","import { rest } from \"msw\";\r\nimport search from \"./endpoints/search\";\r\nimport userPlaylists from \"./endpoints/userPlaylists\";\r\nimport rename from \"./endpoints/rename\";\r\nimport save from \"./endpoints/save\";\r\n\r\nexport const handlers = [].concat(\r\n  search,\r\n  userPlaylists,\r\n  rename,\r\n  save,\r\n  rest.all(\"*\", (req, res, ctx) => {\r\n    return req.passthrough();\r\n  })\r\n);\r\n","import { setupWorker } from \"msw\";\r\nimport { handlers } from \"./handlers\";\r\n\r\nimport \"./mockAuthState.js\";\r\n\r\nexport const worker = setupWorker(...handlers);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport { App } from \"./components/App/App.js\";\r\n\r\n// import reportWebVitals from './reportWebVitals'\r\n\r\n// if (process.env.NODE_ENV === 'development') {\r\n// const { worker, mockAuthState } = require('./mocks/browser')\r\n// worker.start()\r\n// mockAuthState()\r\n// }\r\n\r\nimport { worker } from \"./mocks/browser\";\r\nworker.start();\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App></App>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals()\r\n"],"sourceRoot":""}