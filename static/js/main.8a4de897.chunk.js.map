{"version":3,"sources":["mocks/mockAuthState.js","components/SearchBar/SearchBar.js","components/Icons/Icons.js","components/Track/Track.js","components/TrackList/TrackList.js","components/SearchResults/SearchResults.js","components/Player/Player.js","components/CurrentPlaylist/CurrentPlaylist.js","components/Playlist/Playlist.js","components/UserPlaylists/UserPlaylists.js","components/Playlists/Playlists.js","utils/Spotify.js","components/App/App.js","index.js","mocks/urls.js","mocks/mockedData.js","mocks/endpoints/search.js","mocks/endpoints/userPlaylists.js","mocks/endpoints/rename.js","mocks/endpoints/save.js","mocks/handlers.js","mocks/browser.js"],"names":["localStorage","setItem","Date","now","SearchBar","searchTerm","onChange","onSearch","onKeyDown","isSearching","validation","className","search","value","placeholder","target","code","onClick","Icons","play","viewBox","xmlns","d","pause","forward","next","rewind","volume","mute","undo","remove","playlists","loading","edit","replace","reload","handle","get","iconName","w","h","this","Track","track","isRemoval","onMovement","onPlayButton","playingTrackID","index","name","artists","album","isRepeated","id","handleMoveTrack","handlePlayButton","draggableId","provided","snapshot","isDragging","ref","innerRef","draggableProps","type","dragHandleProps","getMessage","tracksLength","isDraggingOver","draggingFromThisWith","TrackList","tracks","onAdd","onRemove","droppableId","isDropDisabled","droppableProps","map","length","SearchResults","containerRef","React","createRef","props","results","icon","trackList","container","current","setTimeout","classList","add","Component","Player","state","muted","currentPosition","playerRef","volRef","playbackRef","player","Audio","preview_url","handleRewindClick","readyState","currentTime","seeking","rewoundTime","Math","max","handlePlayClick","handleNextClick","onNextButton","handleForwardClick","duration","forwardTime","min","handlePlaybackClick","e","fraction","getFraction","toFixed","onloadedmetadata","handleMuteClick","isMuted","setState","handleVolumeClick","handleTimeUpdate","handleEnded","onPlayEnded","child","currentTarget","clientX","left","getBoundingClientRect","offsetWidth","seconds","_passed","floor","_total","convertToTimeFormat","Number","parseInt","item","join","paused","songName","title","passed","total","style","width","oncanplay","catch","error","console","log","onplaying","ontimeupdate","onseeking","onseeked","onemptied","onended","prevProps","src","load","ended","dir","CurrentPlaylist","playlistRef","disableUndo","onUndo","onRemoveTrack","onNameChange","onSave","isSaving","disabled","playlist","height","offsetHeight","ontransitionend","propertyName","prevTracks","clientHeight","scrollHeight","prevHeight","getComputedStyle","getPropertyValue","Playlist","onRename","isRenaming","headerRef","buttonRef","header","contentEditable","isContentEditable","focus","selection","getSelection","removeAllRanges","collapse","firstChild","onBlur","rel","relatedTarget","contains","textContent","prevName","onKeyPress","key","UserPlaylists","resizeContainer","prevIsToggled","isToggled","prevPlaylists","noToggle","noChange","message","onLoad","content","getPlaylistsTemplate","onRenamePlaylist","startLoading","changeClasses","Playlists","playlistsBtnRef","togglePlaylists","playlistName","defaultName","playlistTracks","onUndoPlaylist","onSavePlaylist","userPlaylists","onLoadPlaylists","isLoading","click","Spotify","urls","authorize","api","getUrl","endpoint","token","stateLength","searchTrack","term","getAccessToken","url","URL","searchParams","set","options","headers","getRequestHeaders","fetchJson","items","savePlaylist","trackURIs","getUserId","userId","createPlaylist","playlistResponse","saveTracks","method","body","JSON","stringify","getPlaylists","renamePlaylist","fetch","response","SpotifyError","status","object","statusText","ok","jsonResponse","json","storedToken","getItem","storedExpiration","getHashParams","access_token","expiration","expires_in","storedState","removeItem","window","history","replaceState","location","origin","redirectToAuthorization","matches","hash","slice","params","regex","exec","decodeURIComponent","generateRandomState","stateLenght","encodeURIComponent","possible","randomString","i","random","Authorization","Error","App","searchResults","playingTrack","handleTermChange","getEnterDownHandler","callback","keyValue","then","err","finally","addTrack","filter","removeTrack","updatePlaylistName","savedPlaylist","undoPlaylist","loadUserPlaylists","renameUserPlaylist","targetPlaylist","find","successfulRequest","Boolean","trackPlayButton","pauseUpdate","playingTrackUpdate","Object","assign","playerPlayButton","playerNextButton","lists","keys","findIndex","nextTrack","playerPlayEnded","onDragStart","start","onDragUpdate","update","onDragEnd","ending","destination","source","sourceId","sourceIndex","destId","destIndex","draggable","sourceState","Array","from","splice","destState","sourceDroppable","a","pathname","require","worker","serviceWorker","ReactDOM","render","StrictMode","document","getElementById","main","data","handler","rest","req","res","ctx","delay","put","requestId","errorMessage","handlers","post","String","push","createdPlaylist","split","concat","rename","all","passthrough","setupWorker"],"mappings":"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","file":"static/js/main.8a4de897.chunk.js","sourcesContent":["localStorage.setItem(\"token\", \"validToken\");\nlocalStorage.setItem(\"expiration\", 1e10 + Date.now());\n","import React from \"react\";\nimport \"./SearchBar.css\";\n\nexport function SearchBar({\n  searchTerm,\n  onChange,\n  onSearch,\n  onKeyDown,\n  isSearching,\n  validation,\n}) {\n  const handleChange = ({ target }) => onChange(target.value);\n  const handleKeyDown = ({ code }) => onKeyDown(code);\n\n  return (\n    <div className=\"SearchBar\">\n      <div className={`SearchBox ${validation.search ? \"\" : \" invalid\"}`}>\n        <input\n          value={searchTerm}\n          placeholder=\"Enter A Song, Album, or Artist\"\n          onChange={handleChange}\n          onKeyDown={handleKeyDown}\n        />\n      </div>\n      <button\n        className={`SearchButton${isSearching ? \" searching\" : \"\"}`}\n        onClick={onSearch}\n      >\n        SEARCH\n      </button>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport const Icons = {\n  play: (viewBox) => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\n      <title>play</title>\n      <path d=\"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13zM12 9l12 7-12 7z\"></path>\n    </svg>\n  ),\n\n  pause: (viewBox) => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\n      <title>pause</title>\n      <path d=\"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13zM10 10h4v12h-4zM18 10h4v12h-4z\"></path>\n    </svg>\n  ),\n\n  forward: (viewBox) => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\n      <title>forward</title>\n      <path d=\"M13.219 15.188q0 0.328 0.469 0.328 0.234 0 0.328-0.094l0.188-0.234q0.094-0.188 0.094-0.281v-2.016q-0.094-0.188-0.094-0.281t-0.211-0.211-0.305-0.117q-0.141 0-0.281 0.141l-0.188 0.188q-0.141 0.188-0.141 0.281v2.016q0.141 0.188 0.141 0.281zM15.094 14.203q0 0.609-0.094 0.797l-0.281 0.609q-0.328 0.281-0.516 0.281-0.094 0-0.305 0.047t-0.305 0.047q-0.422 0-0.609-0.094-0.094-0.047-0.234-0.141t-0.234-0.141q-0.422-0.234-0.422-1.406v-0.703q0-0.609 0.094-0.797l0.328-0.609q0.281-0.281 0.469-0.281 0.094 0 0.305-0.047t0.305-0.047q0.422 0 0.609 0.094 0.094 0.047 0.258 0.141t0.258 0.141 0.281 0.609q0.094 0.281 0.094 0.797v0.703zM10.922 15.984h-0.938v-3.281l-0.984 0.281v-0.703l1.781-0.563h0.141v4.266zM3.984 12.984q0-3.281 2.344-5.625t5.672-2.344v-4.031l5.016 5.016-5.016 5.016v-4.031q-2.438 0-4.219 1.758t-1.781 4.242 1.781 4.242 4.219 1.758 4.219-1.758 1.781-4.242h2.016q0 3.328-2.367 5.672t-5.648 2.344-5.648-2.344-2.367-5.672z\"></path>\n    </svg>\n  ),\n\n  next: (viewBox) => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\n      <title>next</title>\n      <path d=\"M24 4v24h-4v-11l-10 10v-22l10 10v-11z\"></path>\n    </svg>\n  ),\n\n  rewind: (viewBox) => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\n      <title>rewind</title>\n      <path d=\"M13.219 15.188q0 0.328 0.469 0.328 0.234 0 0.328-0.094l0.188-0.234q0.094-0.188 0.094-0.281v-2.016q-0.094-0.188-0.094-0.281t-0.211-0.211-0.305-0.117q-0.141 0-0.281 0.141l-0.188 0.188q-0.141 0.188-0.141 0.281v2.016q0.141 0.188 0.141 0.281zM15.188 14.203q0 0.609-0.094 0.797l-0.281 0.609q-0.328 0.281-0.516 0.281-0.094 0-0.305 0.047t-0.305 0.047q-0.422 0-0.609-0.094-0.094-0.047-0.234-0.141t-0.234-0.141q-0.422-0.234-0.422-1.406v-0.703q0-0.609 0.094-0.797l0.328-0.609q0.281-0.281 0.469-0.281 0.094 0 0.305-0.047t0.305-0.047q0.422 0 0.609 0.094 0.094 0.047 0.258 0.141t0.258 0.141 0.281 0.609q0.094 0.281 0.094 0.797v0.703zM10.922 15.984h-0.938v-3.281l-0.984 0.281v-0.703l1.781-0.563h0.141v4.266zM12 5.016q3.328 0 5.672 2.344t2.344 5.625q0 3.328-2.367 5.672t-5.648 2.344-5.648-2.344-2.367-5.672h2.016q0 2.484 1.781 4.242t4.219 1.758 4.219-1.758 1.781-4.242-1.781-4.242-4.219-1.758v4.031l-5.016-5.016 5.016-5.016v4.031z\"></path>\n    </svg>\n  ),\n\n  volume: (viewBox) => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\n      <title>volume</title>\n      <path d=\"M22.485 25.985c-0.384 0-0.768-0.146-1.061-0.439-0.586-0.586-0.586-1.535 0-2.121 4.094-4.094 4.094-10.755 0-14.849-0.586-0.586-0.586-1.536 0-2.121s1.536-0.586 2.121 0c2.55 2.55 3.954 5.94 3.954 9.546s-1.404 6.996-3.954 9.546c-0.293 0.293-0.677 0.439-1.061 0.439v0zM17.157 23.157c-0.384 0-0.768-0.146-1.061-0.439-0.586-0.586-0.586-1.535 0-2.121 2.534-2.534 2.534-6.658 0-9.192-0.586-0.586-0.586-1.536 0-2.121s1.535-0.586 2.121 0c3.704 3.704 3.704 9.731 0 13.435-0.293 0.293-0.677 0.439-1.061 0.439z\"></path>\n      <path d=\"M13 30c-0.26 0-0.516-0.102-0.707-0.293l-7.707-7.707h-3.586c-0.552 0-1-0.448-1-1v-10c0-0.552 0.448-1 1-1h3.586l7.707-7.707c0.286-0.286 0.716-0.372 1.090-0.217s0.617 0.519 0.617 0.924v26c0 0.404-0.244 0.769-0.617 0.924-0.124 0.051-0.254 0.076-0.383 0.076z\"></path>\n    </svg>\n  ),\n\n  mute: (viewBox) => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\n      <title>mute</title>\n      <path d=\"M30 19.348v2.652h-2.652l-3.348-3.348-3.348 3.348h-2.652v-2.652l3.348-3.348-3.348-3.348v-2.652h2.652l3.348 3.348 3.348-3.348h2.652v2.652l-3.348 3.348 3.348 3.348z\"></path>\n      <path d=\"M13 30c-0.26 0-0.516-0.102-0.707-0.293l-7.707-7.707h-3.586c-0.552 0-1-0.448-1-1v-10c0-0.552 0.448-1 1-1h3.586l7.707-7.707c0.286-0.286 0.716-0.372 1.090-0.217s0.617 0.519 0.617 0.924v26c0 0.404-0.244 0.769-0.617 0.924-0.124 0.051-0.254 0.076-0.383 0.076z\"></path>\n    </svg>\n  ),\n\n  undo: (viewBox) => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\n      <title>undo</title>\n      <path d=\"M28 8v20h-24v-4h20v-12h-6.071l3.657 3.66-2.828 2.83-8.485-8.484 8.485-8.485 2.828 2.826-3.657 3.653h10.071z\"></path>\n    </svg>\n  ),\n\n  remove: (viewBox) => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\n      <title>remove playlist</title>\n      <path d=\"M16 0c-8.837 0-16 7.163-16 16s7.163 16 16 16 16-7.163 16-16-7.163-16-16-16zM16 29c-7.18 0-13-5.82-13-13s5.82-13 13-13 13 5.82 13 13-5.82 13-13 13z\"></path>\n      <path d=\"M21 8l-5 5-5-5-3 3 5 5-5 5 3 3 5-5 5 5 3-3-5-5 5-5z\"></path>\n    </svg>\n  ),\n\n  playlists: (viewBox) => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\n      <title>personal playlists</title>\n      <path d=\"M16 17c0 1.657-1.343 3-3 3v0h-2c-1.657 0-3-1.343-3-3s1.343-3 3-3v0h2c0.001 0 0.003 0 0.004 0 0.357 0 0.699 0.062 1.016 0.177l-0.021-0.007v-13.17l6-1v4l-4 0.67v12.33zM0 3h12v2h-12v-2zM0 7h12v2h-12v-2zM0 11h12v2h-12v-2zM0 15h6v2h-6v-2z\"></path>\n    </svg>\n  ),\n\n  loading: (viewBox) => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\n      <title>loading</title>\n      <path d=\"M32 16c-0.040-2.089-0.493-4.172-1.331-6.077-0.834-1.906-2.046-3.633-3.533-5.060-1.486-1.428-3.248-2.557-5.156-3.302-1.906-0.748-3.956-1.105-5.981-1.061-2.025 0.040-4.042 0.48-5.885 1.292-1.845 0.809-3.517 1.983-4.898 3.424s-2.474 3.147-3.193 4.994c-0.722 1.846-1.067 3.829-1.023 5.79 0.040 1.961 0.468 3.911 1.254 5.694 0.784 1.784 1.921 3.401 3.316 4.736 1.394 1.336 3.046 2.391 4.832 3.085 1.785 0.697 3.701 1.028 5.598 0.985 1.897-0.040 3.78-0.455 5.502-1.216 1.723-0.759 3.285-1.859 4.574-3.208 1.29-1.348 2.308-2.945 2.977-4.67 0.407-1.046 0.684-2.137 0.829-3.244 0.039 0.002 0.078 0.004 0.118 0.004 1.105 0 2-0.895 2-2 0-0.056-0.003-0.112-0.007-0.167h0.007zM28.822 21.311c-0.733 1.663-1.796 3.169-3.099 4.412s-2.844 2.225-4.508 2.868c-1.663 0.646-3.447 0.952-5.215 0.909-1.769-0.041-3.519-0.429-5.119-1.14-1.602-0.708-3.053-1.734-4.25-2.991s-2.141-2.743-2.76-4.346c-0.621-1.603-0.913-3.319-0.871-5.024 0.041-1.705 0.417-3.388 1.102-4.928 0.683-1.541 1.672-2.937 2.883-4.088s2.642-2.058 4.184-2.652c1.542-0.596 3.192-0.875 4.832-0.833 1.641 0.041 3.257 0.404 4.736 1.064 1.48 0.658 2.82 1.609 3.926 2.774s1.975 2.54 2.543 4.021c0.57 1.481 0.837 3.064 0.794 4.641h0.007c-0.005 0.055-0.007 0.11-0.007 0.167 0 1.032 0.781 1.88 1.784 1.988-0.195 1.088-0.517 2.151-0.962 3.156z\"></path>\n    </svg>\n  ),\n\n  edit: (viewBox) => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\n      <title>edit title</title>\n      <path d=\"M12 21h9c0.552 0 1-0.448 1-1s-0.448-1-1-1h-9c-0.552 0-1 0.448-1 1s0.448 1 1 1zM15.793 2.793l-12.5 12.5c-0.122 0.121-0.217 0.28-0.263 0.465l-1 4c-0.039 0.15-0.042 0.318 0 0.485 0.134 0.536 0.677 0.862 1.213 0.728l4-1c0.167-0.041 0.33-0.129 0.465-0.263l12.5-12.5c0.609-0.609 0.914-1.41 0.914-2.207s-0.305-1.598-0.914-2.207-1.411-0.915-2.208-0.915-1.598 0.305-2.207 0.914zM17.207 4.207c0.219-0.219 0.504-0.328 0.793-0.328s0.574 0.109 0.793 0.328 0.328 0.504 0.328 0.793-0.109 0.574-0.328 0.793l-12.304 12.304-2.115 0.529 0.529-2.115z\"></path>\n    </svg>\n  ),\n\n  replace: (viewBox) => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\n      <title>replace</title>\n      <path d=\"M28 18.5v3c0 0.266-0.234 0.5-0.5 0.5h-21.5v3c0 0.266-0.219 0.5-0.5 0.5-0.141 0-0.266-0.063-0.375-0.156l-4.984-5c-0.094-0.094-0.141-0.219-0.141-0.344 0-0.141 0.047-0.266 0.141-0.359l5-5c0.094-0.094 0.234-0.141 0.359-0.141 0.266 0 0.5 0.219 0.5 0.5v3h21.5c0.266 0 0.5 0.219 0.5 0.5zM28 10c0 0.125-0.047 0.266-0.141 0.359l-5 5c-0.094 0.094-0.234 0.141-0.359 0.141-0.266 0-0.5-0.234-0.5-0.5v-3h-21.5c-0.266 0-0.5-0.234-0.5-0.5v-3c0-0.266 0.234-0.5 0.5-0.5h21.5v-3c0-0.281 0.219-0.5 0.5-0.5 0.141 0 0.266 0.063 0.375 0.156l4.984 4.984c0.094 0.094 0.141 0.234 0.141 0.359z\"></path>\n    </svg>\n  ),\n\n  reload: (viewBox) => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\n      <title>reload</title>\n      <path d=\"M23.609 16.5c0 0.031 0 0.078-0.016 0.109-1.328 5.531-5.891 9.391-11.656 9.391-3.047 0-6-1.203-8.219-3.313l-2.016 2.016c-0.187 0.187-0.438 0.297-0.703 0.297-0.547 0-1-0.453-1-1v-7c0-0.547 0.453-1 1-1h7c0.547 0 1 0.453 1 1 0 0.266-0.109 0.516-0.297 0.703l-2.141 2.141c1.469 1.375 3.422 2.156 5.437 2.156 2.781 0 5.359-1.437 6.813-3.813 0.375-0.609 0.562-1.203 0.828-1.828 0.078-0.219 0.234-0.359 0.469-0.359h3c0.281 0 0.5 0.234 0.5 0.5zM24 4v7c0 0.547-0.453 1-1 1h-7c-0.547 0-1-0.453-1-1 0-0.266 0.109-0.516 0.297-0.703l2.156-2.156c-1.484-1.375-3.437-2.141-5.453-2.141-2.781 0-5.359 1.437-6.813 3.813-0.375 0.609-0.562 1.203-0.828 1.828-0.078 0.219-0.234 0.359-0.469 0.359h-3.109c-0.281 0-0.5-0.234-0.5-0.5v-0.109c1.344-5.547 5.953-9.391 11.719-9.391 3.063 0 6.047 1.219 8.266 3.313l2.031-2.016c0.187-0.187 0.438-0.297 0.703-0.297 0.547 0 1 0.453 1 1z\"></path>\n    </svg>\n  ),\n\n  handle: (viewBox) => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox={viewBox}>\n      <title>handle</title>\n      <path d=\"M15 15.984q0.797 0 1.406 0.609t0.609 1.406-0.609 1.406-1.406 0.609-1.406-0.609-0.609-1.406 0.609-1.406 1.406-0.609zM15 9.984q0.797 0 1.406 0.609t0.609 1.406-0.609 1.406-1.406 0.609-1.406-0.609-0.609-1.406 0.609-1.406 1.406-0.609zM15 8.016q-0.797 0-1.406-0.609t-0.609-1.406 0.609-1.406 1.406-0.609 1.406 0.609 0.609 1.406-0.609 1.406-1.406 0.609zM9 3.984q0.797 0 1.406 0.609t0.609 1.406-0.609 1.406-1.406 0.609-1.406-0.609-0.609-1.406 0.609-1.406 1.406-0.609zM9 9.984q0.797 0 1.406 0.609t0.609 1.406-0.609 1.406-1.406 0.609-1.406-0.609-0.609-1.406 0.609-1.406 1.406-0.609zM11.016 18q0 0.797-0.609 1.406t-1.406 0.609-1.406-0.609-0.609-1.406 0.609-1.406 1.406-0.609 1.406 0.609 0.609 1.406z\"></path>\n    </svg>\n  ),\n\n  get(iconName, w = 32, h) {\n    const viewBox = `0 0 ${w} ${h || w}`;\n    return this[iconName](viewBox);\n  },\n};\n","import React from \"react\";\nimport { Icons } from \"../Icons/Icons\";\nimport \"./Track.css\";\nimport { Draggable } from \"react-beautiful-dnd\";\n\nexport function Track({\n  track,\n  isRemoval,\n  onMovement,\n  onPlayButton,\n  playingTrackID = null,\n  index,\n}) {\n  const { name, artists, album, id } = track;\n  const isRepeated = playingTrackID === id;\n  const handleMoveTrack = () => onMovement(track);\n  const handlePlayButton = () => onPlayButton(track, isRepeated);\n  return (\n    <Draggable draggableId={track.id} index={index}>\n      {(provided, snapshot) => (\n        <div\n          className={`Track ${snapshot.isDragging ? \"draggable\" : \"\"} `}\n          ref={provided.innerRef}\n          {...provided.draggableProps}\n        >\n          <div className=\"Track-information\">\n            <h3 className=\"Track-information-title\">{name}</h3>\n            <p className=\"Track-information-artist\">\n              {artists[0]?.name} | {album?.name}\n            </p>\n          </div>\n          <button\n            type=\"button\"\n            className=\"Track-button Track-play\"\n            onClick={handlePlayButton}\n          >\n            {isRepeated ? Icons.get(\"pause\") : Icons.get(\"play\")}\n          </button>\n          <button\n            type=\"button\"\n            className=\"Track-button Track-action\"\n            onClick={handleMoveTrack}\n          >\n            {isRemoval ? \"-\" : \"+\"}\n          </button>\n          <button\n            type=\"button\"\n            className=\"Track-button Track-handle\"\n            {...provided.dragHandleProps}\n          >\n            {Icons.get(\"handle\", 20)}\n          </button>\n        </div>\n      )}\n    </Draggable>\n  );\n}\n","import React from \"react\";\nimport { Track } from \"../Track/Track\";\nimport \"./TrackList.css\";\nimport { Droppable } from \"react-beautiful-dnd\";\n\nconst getMessage = ({ snapshot, tracksLength }) => {\n  const { isDraggingOver, draggingFromThisWith } = snapshot;\n\n  if (\n    isDraggingOver &&\n    tracksLength <= 1 &&\n    (draggingFromThisWith || tracksLength < 1)\n  )\n    return <div className=\"TrackList-message dragging\">+</div>;\n\n  if (tracksLength < 1)\n    return (\n      <div className=\"TrackList-message\">\n        <p>Drag'n'drop or add some tracks</p>\n      </div>\n    );\n};\n\nexport function TrackList({\n  tracks,\n  isRemoval,\n  onAdd,\n  onRemove,\n  onPlayButton,\n  playingTrackID,\n  droppableId,\n  isDropDisabled = false,\n}) {\n  return (\n    <Droppable droppableId={droppableId} isDropDisabled={isDropDisabled}>\n      {(provided, snapshot) => (\n        <div\n          className={`TrackList${\n            snapshot.isDraggingOver ? \" draggingOver\" : \"\"\n          }`}\n          ref={provided.innerRef}\n          {...provided.droppableProps}\n        >\n          {tracks.map((track, index) => (\n            <Track\n              key={track.id}\n              track={track}\n              isRemoval={isRemoval}\n              onMovement={isRemoval ? onRemove : onAdd}\n              onPlayButton={onPlayButton}\n              playingTrackID={playingTrackID}\n              index={index}\n            />\n          ))}\n          {tracks.length >= 1 && provided.placeholder}\n          {getMessage({ snapshot, tracksLength: tracks.length })}\n        </div>\n      )}\n    </Droppable>\n  );\n}\n","import React from \"react\";\nimport { TrackList } from \"../TrackList/TrackList\";\nimport { Icons } from \"../Icons/Icons.js\";\nimport \"./SearchResults.css\";\n\nexport class SearchResults extends React.Component {\n  containerRef = React.createRef();\n  render() {\n    const { results, onAdd, onPlayButton, playingTrackID, isSearching } =\n      this.props;\n    const icon = <i className=\"SearchResults-icon\">{Icons.get(\"loading\")}</i>;\n    const trackList = (\n      <TrackList\n        tracks={results}\n        isRemoval={false}\n        onAdd={onAdd}\n        onPlayButton={onPlayButton}\n        playingTrackID={playingTrackID}\n        droppableId=\"searchResults\"\n      />\n    );\n\n    return (\n      <div className=\"SearchResults\" ref={this.containerRef}>\n        <h2 className=\"SearchResults-header\">Results</h2>\n        {isSearching ? icon : trackList}\n      </div>\n    );\n  }\n\n  componentDidUpdate() {\n    const { isSearching } = this.props;\n    const { current: container } = this.containerRef;\n    if (isSearching) {\n      setTimeout(() => container.classList.add(\"loading\"));\n    } else {\n      container.classList.remove(\"loading\");\n    }\n  }\n}\n","import React from \"react\";\nimport { Icons } from \"../Icons/Icons\";\nimport \"./Player.css\";\n\nexport class Player extends React.Component {\n  state = {\n    muted: false,\n    volume: 0.5,\n    currentPosition: 0,\n  };\n  playerRef = React.createRef();\n  volRef = React.createRef();\n  playbackRef = React.createRef();\n  player = new Audio(this.props.track.preview_url);\n\n  handleRewindClick = () => {\n    const { readyState, currentTime, seeking } = this.player;\n\n    if (readyState < 1 || seeking) return;\n\n    const rewoundTime = Math.max(currentTime - 10, 0);\n    this.player.currentTime = rewoundTime;\n  };\n\n  handlePlayClick = () => this.props.onPlayButton();\n\n  handleNextClick = () => this.props.onNextButton();\n\n  handleForwardClick = () => {\n    const { readyState, currentTime, seeking, duration } = this.player;\n\n    if (readyState < 1 && currentTime === 0) {\n      this.player.currentTime += 10;\n      return;\n    }\n\n    if (seeking) return;\n\n    const forwardTime = Math.min(currentTime + 10, duration);\n    this.player.currentTime = forwardTime;\n  };\n\n  handlePlaybackClick = (e) => {\n    const fraction = this.getFraction(e, this.playbackRef.current);\n    const currentPosition =\n      (fraction < 0.02 && \"0\") ||\n      (fraction > 0.98 && \"1\") ||\n      fraction.toFixed(5);\n\n    // first set the time and then upon the successful loading, set the position to change the width as the timeupdate event is happening\n\n    if (this.player.readyState < 1) {\n      this.player.onloadedmetadata = () => {\n        this.player.currentTime =\n          (this.player.duration * currentPosition).toFixed(5) || 0;\n      };\n\n      return;\n    }\n\n    this.player.currentTime =\n      (this.player.duration * currentPosition).toFixed(5) || 0;\n  };\n\n  handleMuteClick = () => {\n    const isMuted = !this.state.muted;\n    this.setState({ muted: isMuted });\n  };\n\n  handleVolumeClick = (e) => {\n    const fraction = this.getFraction(e, this.volRef.current);\n    const volume =\n      (fraction < 0.1 && \"0\") || (fraction > 0.9 && \"1\") || fraction.toFixed(5);\n    this.setState({ volume, muted: false });\n  };\n\n  handleTimeUpdate = () => {\n    this.setState({\n      currentPosition: (this.player.currentTime / this.player.duration).toFixed(\n        5\n      ),\n    });\n  };\n\n  handleEnded = () => this.props.onPlayEnded();\n\n  getFraction = ({ currentTarget: container, target, clientX }, child) => {\n    if (container === target) return 1;\n\n    const { left } = container.getBoundingClientRect();\n\n    if (clientX < left) return 0;\n\n    const clickedPoint = clientX - left;\n\n    return clickedPoint / child.offsetWidth;\n  };\n\n  seconds = {\n    set passed(value) {\n      this._passed = Math.floor(value);\n    },\n    set total(value) {\n      this._total = Math.floor(value);\n    },\n    get passed() {\n      return this.convertToTimeFormat(this._passed);\n    },\n    get total() {\n      return this.convertToTimeFormat(this._total);\n    },\n\n    convertToTimeFormat: (value) => {\n      const minuts = Number.parseInt(value / 60);\n      const seconds = value % 60;\n\n      return [minuts, seconds]\n        .map((item) => (item < 10 ? `0${item}` : item))\n        .join(\":\");\n    },\n  };\n\n  render() {\n    const { paused, track } = this.props;\n    const { name: songName, artists } = track;\n    const { currentPosition, volume, muted } = this.state;\n    const { duration } = this.player;\n    const title = track ? `${artists[0].name} - ${songName}` : \"\";\n\n    this.seconds.passed = duration * currentPosition || 0;\n    this.seconds.total = duration || 0;\n\n    return (\n      <div className=\"Player\" ref={this.playerRef}>\n        <div className=\"container\">\n          <button\n            className=\"Player-button Player-rewind\"\n            type=\"button\"\n            onClick={this.handleRewindClick}\n          >\n            {Icons.get(\"rewind\", 24)}\n          </button>\n          <button\n            className=\"Player-button Player-play\"\n            type=\"button\"\n            onClick={this.handlePlayClick}\n          >\n            {paused ? Icons.get(\"play\") : Icons.get(\"pause\")}\n          </button>\n          <button\n            className=\"Player-button Player-next\"\n            type=\"button\"\n            onClick={this.handleNextClick}\n          >\n            {Icons.get(\"next\")}\n          </button>\n          <button\n            className=\"Player-button Player-forward\"\n            type=\"button\"\n            onClick={this.handleForwardClick}\n          >\n            {Icons.get(\"forward\", 24)}\n          </button>\n          <div className=\"Player-playback\" onClick={this.handlePlaybackClick}>\n            <div className=\"Player-playback-total\" ref={this.playbackRef}>\n              <h2 className=\"Player-playback-title\">{title}</h2>\n              <span\n                className=\"Player-playback-passed\"\n                style={{ width: currentPosition * 100 + \"%\" }}\n              ></span>\n            </div>\n          </div>\n          <p className=\"Player-time\">\n            <time className=\"Player-time-passed\">{this.seconds.passed}</time>\n            <time className=\"Player-time-duration\">{this.seconds.total}</time>\n          </p>\n          <button\n            className=\"Player-button Player-mute\"\n            type=\"button\"\n            onClick={this.handleMuteClick}\n          >\n            {this.state.muted ? Icons.get(\"mute\") : Icons.get(\"volume\")}\n          </button>\n          <div className=\"Player-volume\" onClick={this.handleVolumeClick}>\n            <div className=\"Player-volume-total\" ref={this.volRef}>\n              <span\n                className=\"Player-volume-level\"\n                style={{ width: muted ? 0 : volume * 100 + \"%\" }}\n              ></span>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // canplay - playing - timeupdate - seeking - loadedmetadata - seeked - emptied\n  componentDidMount() {\n    setTimeout(() => (this.playerRef.current.className += \" Player-set\"));\n\n    this.player.volume = this.state.volume;\n\n    this.player.oncanplay = () => {\n      if (this.props.paused) return;\n      this.player\n        .play()\n        .catch((error) => console.log(\"the play was interrupted 1\"));\n      console.log(\"canplay\");\n    };\n    this.player.onplaying = () => {\n      if (this.props.paused) return;\n      this.player\n        .play()\n        .catch((error) => console.log(\"the play was interrupted 2\"));\n      console.log(\"playing\");\n    };\n    this.player.ontimeupdate = () => {\n      this.handleTimeUpdate();\n      console.log(\"timeupdate st\");\n    };\n    this.player.onseeking = () => console.log(\"seeking\");\n\n    this.player.onseeked = () => console.log(\"seeked\");\n\n    this.player.onemptied = () => {\n      this.setState({ currentPosition: 0 });\n      console.log(\"emptied st\");\n    };\n    this.player.onended = (e) => {\n      console.log(\"ended st\");\n      this.handleEnded();\n      this.setState({ currentPosition: 0 });\n      this.player.currentTime = 0;\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    const { track, paused } = this.props;\n    const { muted, volume } = this.state;\n    const current_track_url = track.preview_url;\n    const { preview_url: previos_track_url } = prevProps.track;\n\n    if (current_track_url !== previos_track_url) {\n      this.player.onloadedmetadata = \"\";\n      this.player.src = this.props.track.preview_url;\n      this.player.load();\n      return;\n    }\n\n    this.player.muted = muted;\n    this.player.volume = volume;\n\n    // if ended there will be onended event involved\n    if (this.player.ended) return;\n\n    paused\n      ? this.player.pause()\n      : this.player\n          .play()\n          .catch(() =>\n            console.dir(\"the play promise initiated was interrupted\")\n          );\n  }\n}\n","import React from \"react\";\nimport { TrackList } from \"../TrackList/TrackList\";\nimport { Icons } from \"../Icons/Icons\";\nimport \"./CurrentPlaylist.css\";\n\nexport class CurrentPlaylist extends React.Component {\n  playlistRef = React.createRef();\n\n  render() {\n    const {\n      name,\n      tracks,\n      disableUndo,\n      onUndo,\n      onRemoveTrack,\n      onNameChange,\n      onSave,\n      onKeyDown,\n      onPlayButton,\n      playingTrackID,\n      isSaving,\n    } = this.props;\n\n    const handleNameChange = ({ target }) => onNameChange(target.value);\n    const handleKeyDown = ({ code }) => onKeyDown(code);\n\n    return (\n      <div\n        className={`CurrentPlaylist${isSaving ? \" saving\" : \"\"}`}\n        ref={this.playlistRef}\n      >\n        <div className={\"CurrentPlaylist-input\"}>\n          <input\n            value={name}\n            onChange={handleNameChange}\n            onKeyDown={handleKeyDown}\n          />\n          <button\n            type=\"button\"\n            className=\"CurrentPlaylist-undo\"\n            disabled={disableUndo}\n            onClick={onUndo}\n          >\n            {Icons.get(\"undo\")}\n          </button>\n        </div>\n        <TrackList\n          tracks={tracks}\n          isRemoval={true}\n          onRemove={onRemoveTrack}\n          onPlayButton={onPlayButton}\n          playingTrackID={playingTrackID}\n          droppableId=\"playlistTracks\"\n          isDropDisabled={isSaving}\n        />\n        <button className={`CurrentPlaylist-save`} onClick={onSave}>\n          {isSaving ? \"SAVING...\" : \"SAVE TO SPOTIFY\"}\n        </button>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    const { current: playlist } = this.playlistRef;\n    playlist.style.height = playlist.offsetHeight + \"px\";\n\n    playlist.ontransitionend = ({ propertyName }) => {\n      if (propertyName === \"height\") {\n        playlist.style.height = playlist.offsetHeight + \"px\";\n      }\n    };\n  }\n\n  componentDidUpdate({ tracks: prevTracks }) {\n    const { current: playlist } = this.playlistRef;\n    const { tracks } = this.props;\n    const { clientHeight, scrollHeight } = playlist;\n\n    if (prevTracks.length === 0 && tracks.length === 1) {\n    }\n\n    if (prevTracks.length === tracks.length) return;\n\n    if (tracks.length > prevTracks.length) {\n      if (clientHeight === scrollHeight) return;\n      playlist.style.height = playlist.scrollHeight + \"px\";\n    }\n\n    if (tracks.length < prevTracks.length) {\n      const prevHeight = playlist.offsetHeight;\n      playlist.style.height = \"auto\";\n\n      const height = playlist.offsetHeight;\n      playlist.style.height = prevHeight + \"px\";\n\n      getComputedStyle(playlist).getPropertyValue(\"height\");\n\n      playlist.style.height = height + \"px\";\n    }\n  }\n}\n","import React from \"react\";\nimport { Icons } from \"../Icons/Icons\";\nimport \"./Playlist.css\";\n\nexport function Playlist({ id, name, length, onRename, isRenaming }) {\n  const headerRef = React.createRef();\n  const buttonRef = React.createRef();\n\n  const onClick = () => {\n    console.log(\"onClick\");\n\n    const { current: header } = headerRef;\n\n    if (isRenaming) {\n      header.contentEditable = false;\n      return;\n    }\n\n    const isContentEditable = header.contentEditable === \"true\" ? false : true;\n\n    header.contentEditable = isContentEditable;\n\n    if (isContentEditable) {\n      header.focus();\n      const selection = getSelection();\n      selection.removeAllRanges();\n      selection.collapse(header.firstChild, header.firstChild.length);\n    }\n  };\n\n  const handleBlur = ({ currentTarget: header, relatedTarget: rel }) => {\n    console.log(\"handleBlur\");\n\n    const { current: button } = buttonRef;\n\n    // the button has been used\n    // (since a blur is fired before a click the contentEditable state doesn't change to leave  processing to the onClick event handler)\n    // or\n    // the key Enter has been used\n    if (button.contains(rel) || header.contentEditable === \"false\") {\n      if (name === header.textContent) return;\n\n      onRename({ id, name: header.textContent, prevName: name });\n\n      return;\n    }\n\n    header.contentEditable = false;\n    header.textContent = name;\n  };\n\n  const handleKeyPress = ({ currentTarget: header, key }) => {\n    if (key === \"Enter\" && header.contentEditable) {\n      console.log(\"handleKeyPress Enter\");\n      header.contentEditable = false;\n    }\n  };\n\n  return (\n    <div className={`Playlist${isRenaming ? \" renaming\" : \"\"}`}>\n      <div className=\"Playlist-information\">\n        <div className=\"Playlist-title\">\n          <button\n            type=\"button\"\n            className=\"Playlist-button Playlist-edit\"\n            onClick={onClick}\n            ref={buttonRef}\n          >\n            {isRenaming ? Icons.get(\"loading\", 32) : Icons.get(\"edit\", 26)}\n          </button>\n          <h3\n            contentEditable={false}\n            onBlur={handleBlur}\n            onKeyPress={handleKeyPress}\n            ref={headerRef}\n          >\n            {name}\n          </h3>\n        </div>\n        <p>{length} tracks</p>\n      </div>\n      {/* <button type=\"buttom\" className=\"Playlist-button Playlist-replace\">\n        +\n      </button> */}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Playlist } from \"../Playlist/Playlist\";\nimport { Icons } from \"../Icons/Icons\";\nimport \"./UserPlaylists.css\";\n\nexport class UserPlaylists extends React.Component {\n  containerRef = React.createRef();\n\n  render() {\n    const { playlists, onLoad } = this.props;\n    const failedLoading = typeof playlists[0] === \"string\";\n    const getMessage = (message) => (\n      <p className=\"UserPlaylists-message\">{message}</p>\n    );\n    const content = failedLoading\n      ? getMessage(playlists[0])\n      : this.getPlaylistsTemplate(playlists);\n\n    const icon = <i className=\"UserPlaylists-icon\">{Icons.get(\"loading\")}</i>;\n\n    return (\n      <div className=\"UserPlaylists\" ref={this.containerRef}>\n        <h2>\n          User's playlists\n          <button className=\"UserPlaylists-button\" onClick={onLoad}>\n            {Icons.get(\"reload\", 26)}\n          </button>\n        </h2>\n        {playlists.length ? content : icon}\n      </div>\n    );\n  }\n\n  getPlaylistsTemplate(playlists) {\n    return playlists.map(({ id, name, tracks, isRenaming }) => (\n      <Playlist\n        key={id}\n        id={id}\n        name={name}\n        length={tracks.total || 0}\n        onRename={this.props.onRenamePlaylist}\n        isRenaming={isRenaming}\n      />\n    ));\n  }\n\n  changeClasses() {\n    const { current: container } = this.containerRef;\n    const { playlists, isToggled } = this.props;\n\n    if (playlists.length < 1 && isToggled) {\n      setTimeout(() => container.classList.add(\"loading\"));\n    }\n\n    if (playlists.length) container.classList.remove(\"loading\");\n\n    container.classList[isToggled ? \"add\" : \"remove\"](\"toggled\");\n  }\n\n  resizeContainer = ({\n    isToggled: prevIsToggled,\n    playlists: prevPlaylists,\n  }) => {\n    const { current: container } = this.containerRef;\n    const { isToggled, playlists } = this.props;\n\n    const noToggle = prevIsToggled === isToggled;\n    const noChange = playlists.length === prevPlaylists.length;\n\n    if (noToggle && isToggled === false) return;\n    if (noToggle && noChange) return;\n\n    // the min height is required for the container to extend with fix value whilst data is loading\n    // when toggled the height can't go beside two fix values, that is min and max\n    container.style.height = `${\n      isToggled ? Math.min(Math.max(container.scrollHeight, 400), 500) : 0\n    }px`;\n  };\n\n  startLoading() {\n    const { isToggled, playlists, onLoad } = this.props;\n    if (playlists.length < 1 && isToggled) onLoad();\n  }\n\n  componentDidMount() {\n    const { current: container } = this.containerRef;\n    container.style.height = \"0px\";\n  }\n\n  componentDidUpdate(prevProps) {\n    this.startLoading();\n    this.changeClasses();\n    this.resizeContainer(prevProps);\n  }\n}\n","import React from \"react\";\nimport { Icons } from \"../Icons/Icons\";\nimport { CurrentPlaylist } from \"../CurrentPlaylist/CurrentPlaylist\";\nimport { UserPlaylists } from \"../UserPlaylists/UserPlaylists\";\nimport \"./Playlists.css\";\n\nexport class Playlists extends React.Component {\n  state = { isToggled: false };\n  playlistsBtnRef = React.createRef();\n\n  togglePlaylists = () => this.setState({ isToggled: !this.state.isToggled });\n\n  render() {\n    const {\n      playlistName,\n      defaultName,\n      playlistTracks,\n      onRemoveTrack,\n      onNameChange,\n      onKeyDown,\n      onPlayButton,\n      playingTrackID,\n      onUndoPlaylist,\n      onSavePlaylist,\n      userPlaylists,\n      onLoadPlaylists,\n      onRenamePlaylist,\n      isSaving,\n      isLoading,\n    } = this.props;\n\n    const { isToggled } = this.state;\n\n    const disableUndo =\n      playlistTracks.length === 0 && playlistName === defaultName;\n\n    return (\n      <div className={`Playlists`}>\n        <button\n          type=\"button\"\n          className=\"Playlists-button\"\n          onClick={this.togglePlaylists}\n          ref={this.playlistsBtnRef}\n        >\n          {Icons.get(\"playlists\", 20)}\n        </button>\n        <div className=\"Playlists-container\">\n          <UserPlaylists\n            isToggled={isToggled}\n            playlists={userPlaylists}\n            onLoad={onLoadPlaylists}\n            onRenamePlaylist={onRenamePlaylist}\n            isLoading={isLoading}\n          />\n          <CurrentPlaylist\n            name={playlistName}\n            tracks={playlistTracks}\n            disableUndo={disableUndo}\n            playingTrackID={playingTrackID}\n            isSaving={isSaving}\n            onNameChange={onNameChange}\n            onUndo={onUndoPlaylist}\n            onSave={onSavePlaylist}\n            onKeyDown={onKeyDown}\n            onRemoveTrack={onRemoveTrack}\n            onPlayButton={onPlayButton}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n      prevProps.isSaving === true &&\n      this.props.isSaving === false &&\n      this.state.isToggled === false\n    ) {\n      this.playlistsBtnRef.current.click();\n    }\n  }\n}\n","const CLIENT_ID = \"565c78e61f5441e8bdf1635690798d4e\";\nconst REDIRECT_URI = \"http://localhost:3000\";\nconst SCOPE = \"playlist-modify-public\";\n\nexport const Spotify = {\n  urls: {\n    authorize: `https://accounts.spotify.com/authorize`,\n    api: \"https://api.spotify.com/v1\",\n  },\n\n  getUrl(endpoint) {\n    const { authorize, api } = this.urls;\n    return endpoint === \"authorize\" ? authorize : `${api}/${endpoint}`;\n  },\n\n  token: \"\",\n  stateLength: 16,\n\n  async searchTrack(term) {\n    const token = this.getAccessToken();\n    if (!token) return [];\n\n    const url = new URL(this.getUrl(\"search\"));\n    url.searchParams.set(\"q\", term);\n    url.searchParams.set(\"type\", \"track\");\n\n    const options = {\n      headers: this.getRequestHeaders(),\n    };\n\n    const { tracks } = await this.fetchJson(url, options);\n\n    return tracks.items;\n  },\n\n  async savePlaylist({ name, trackURIs }) {\n    const token = this.getAccessToken();\n    if (!token) return;\n\n    const userId = await this.getUserId();\n    const playlistResponse = await this.createPlaylist(name, userId);\n    const { id } = playlistResponse;\n\n    return await this.saveTracks({ id, trackURIs });\n  },\n\n  async getUserId() {\n    const options = {\n      headers: this.getRequestHeaders(),\n    };\n\n    const { id } = await this.fetchJson(this.getUrl(\"me\"), options);\n\n    return id;\n  },\n\n  async createPlaylist(name, userId) {\n    const url = `${this.getUrl(\"users\")}/${userId}/playlists`;\n    const options = {\n      method: \"POST\",\n      headers: this.getRequestHeaders(),\n      body: JSON.stringify({\n        name,\n      }),\n    };\n\n    return this.fetchJson(url, options);\n  },\n\n  async saveTracks({ id, trackURIs }) {\n    const url = `${this.getUrl(\"playlists\")}/${id}/tracks?uris=${trackURIs.join(\n      \",\"\n    )}`;\n    const options = {\n      method: \"POST\",\n      headers: this.getRequestHeaders(),\n    };\n    return this.fetchJson(url, options);\n  },\n\n  async getPlaylists() {\n    const options = {\n      headers: this.getRequestHeaders(),\n    };\n\n    const { items: playlists } = await this.fetchJson(\n      this.getUrl(\"me/playlists\"),\n      options\n    );\n\n    return playlists;\n  },\n\n  async renamePlaylist({ id, name }) {\n    const url = this.getUrl(`playlists/${id}`);\n\n    const options = {\n      method: \"PUT\",\n      headers: this.getRequestHeaders(),\n      body: JSON.stringify({ name }),\n    };\n\n    return this.fetchJson(url, options);\n  },\n\n  async fetchJson(url, options) {\n    let response;\n\n    try {\n      response = await fetch(url, options);\n    } catch (err) {\n      throw new SpotifyError({\n        status: \"Network error\",\n        message: err.message,\n        object: err,\n      });\n    }\n\n    const { status, statusText } = response;\n\n    if (!response.ok) {\n      let message = `${\n        statusText && statusText + \". \"\n      }The response status is not ok`;\n      let jsonResponse = {};\n      try {\n        jsonResponse = await response.json();\n      } catch (err) {\n        throw new SpotifyError({ status, message, object: response });\n      }\n      throw new SpotifyError({\n        message: (jsonResponse.error && jsonResponse.error.message) || message,\n        status: (jsonResponse.error && jsonResponse.error.status) || status,\n        object: jsonResponse,\n      });\n    }\n\n    try {\n      const jsonResponse = await response.json();\n      return jsonResponse;\n    } catch (err) {\n      if (options.method === \"PUT\") return;\n\n      console.log(err.message);\n      throw new SpotifyError({\n        status: \"Incorrect response from the server\",\n        message: \"Could not convert the response data\",\n      });\n    }\n  },\n\n  getAccessToken() {\n    const storedToken = localStorage.getItem(\"token\");\n    const storedExpiration = localStorage.getItem(\"expiration\");\n\n    if (storedToken && Date.now() < storedExpiration) return storedToken;\n\n    const {\n      access_token: token,\n      expires_in: expiration,\n      state,\n    } = this.getHashParams();\n    const storedState = localStorage.getItem(\"state\");\n\n    if (state && state !== storedState) {\n      console.log(\"state mismatching error\");\n      return;\n    }\n\n    if (token && expiration) {\n      localStorage.removeItem(\"state\");\n      localStorage.setItem(\"token\", token);\n      localStorage.setItem(\n        \"expiration\",\n        parseInt(expiration, 10) * 1000 + Date.now()\n      );\n\n      window.history.replaceState({}, \"\", window.location.origin);\n      return token;\n    }\n\n    this.redirectToAuthorization();\n  },\n\n  getHashParams() {\n    const hash = window.location.hash.slice(1);\n    const params = {};\n    const regex = /([^&=;]+)=?([^&;]*)/g;\n\n    let matches;\n    while ((matches = regex.exec(hash))) {\n      params[matches[1]] = decodeURIComponent(matches[2]);\n    }\n\n    return params;\n  },\n\n  redirectToAuthorization() {\n    const state = this.generateRandomState(this.stateLenght);\n    localStorage.setItem(\"state\", state);\n\n    let url = this.getUrl(\"authorize\") + \"?\";\n\n    url += `client_id=${CLIENT_ID}&`;\n    url += \"response_type=token&\";\n    url += `redirect_uri=${encodeURIComponent(REDIRECT_URI)}&`;\n    url += `state=${state}&`;\n    url += `scope=${SCOPE}&`;\n\n    window.location = url;\n  },\n\n  generateRandomState(length) {\n    const possible =\n      \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    let randomString = \"\";\n\n    for (let i = 0; i < length; i++) {\n      const index = Math.floor(Math.random() * possible.length);\n      randomString += possible[index];\n    }\n\n    return randomString;\n  },\n\n  getRequestHeaders() {\n    return { Authorization: `Bearer ${this.getAccessToken()}` };\n  },\n};\n\nclass SpotifyError extends Error {\n  constructor({ status, message, object }) {\n    super(message);\n    this.status = status;\n    this.object = object;\n  }\n}\n","import React from \"react\";\nimport { SearchBar } from \"../SearchBar/SearchBar\";\nimport { SearchResults } from \"../SearchResults/SearchResults\";\nimport { Player } from \"../Player/Player\";\nimport { Playlists } from \"../Playlists/Playlists\";\nimport { Spotify } from \"../../utils/Spotify\";\nimport \"./App.css\";\nimport { DragDropContext } from \"react-beautiful-dnd\";\n\nexport class App extends React.Component {\n  playlistName = \"New Playlist\";\n\n  state = {\n    searchTerm: \"\",\n    searchResults: [],\n    isSearching: false,\n\n    validation: {\n      search: true,\n    },\n\n    playlistName: this.playlistName,\n    playlistTracks: [],\n    isSaving: false,\n\n    userPlaylists: [],\n    isLoading: false,\n\n    //have to keep these player's state values on the top element to sync with other components\n    playingTrack: \"\",\n    paused: true,\n  };\n\n  handleTermChange = (value) => this.setState({ searchTerm: value });\n\n  getEnterDownHandler = (callback) => {\n    return (keyValue) => keyValue === \"Enter\" && callback();\n  };\n\n  search = () => {\n    const { searchTerm, isSearching } = this.state;\n\n    if (isSearching) return;\n\n    if (searchTerm.length < 1) {\n      this.setState({ validation: { search: false } });\n      setTimeout(() => this.setState({ validation: { search: true } }), 900);\n      return;\n    }\n\n    this.setState({ isSearching: true, validation: { search: true } });\n\n    Spotify.searchTrack(this.state.searchTerm)\n      .then((tracks) => {\n        this.setState({\n          searchResults: [...tracks],\n        });\n      })\n      .catch((err) => console.log(\"Spotify error\", err.message))\n      .finally(() => this.setState({ isSearching: false }));\n  };\n\n  addTrack = (track) => {\n    const { playlistTracks, searchResults } = this.state;\n\n    this.setState({\n      searchResults: searchResults.filter(({ id }) => track.id !== id),\n      playlistTracks: [...playlistTracks, track],\n    });\n  };\n\n  removeTrack = (track) => {\n    const { searchResults, playlistTracks } = this.state;\n\n    this.setState({\n      searchResults: [...searchResults, track],\n      playlistTracks: playlistTracks.filter(({ id }) => id !== track.id),\n    });\n  };\n\n  updatePlaylistName = (value) => this.setState({ playlistName: value });\n\n  savePlaylist = () => {\n    const trackURIs = this.state.playlistTracks.map(\n      ({ preview_url }) => preview_url\n    );\n    const { playlistName: name } = this.state;\n\n    const isVerified = name && trackURIs.length > 0;\n    if (isVerified === false) {\n      console.log(\"need a playlist's name or at least one track\");\n      return;\n    }\n\n    this.setState({ isSaving: true });\n\n    Spotify.savePlaylist({ name, trackURIs })\n      .then((savedPlaylist) => {\n        console.log(\"the playlist has been saved successfully\");\n        this.setState({\n          playlistName: this.playlistName,\n          playlistTracks: [],\n          userPlaylists: [],\n        });\n      })\n      .catch((err) => console.log(\"Spotify error\", err.message))\n      .finally(() => this.setState({ isSaving: false }));\n  };\n\n  undoPlaylist = () => {\n    const { searchResults, playlistTracks } = this.state;\n\n    this.setState({\n      playlistName: this.playlistName,\n      searchResults: [...searchResults, ...playlistTracks],\n      playlistTracks: [],\n    });\n  };\n\n  loadUserPlaylists = () => {\n    if (this.state.isLoading) return;\n    this.setState({ isLoading: true, userPlaylists: [] });\n\n    Spotify.getPlaylists()\n      .then((playlists) => {\n        this.setState({\n          userPlaylists: playlists.length\n            ? [...playlists]\n            : [\"You hasn't created any playlist on your account yet\"],\n        });\n      })\n      .catch((err) => {\n        console.log(\"Spotify error\", err.message);\n        this.setState({ userPlaylists: [\"Error has occured\"] });\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  renameUserPlaylist = ({ id, name, prevName = \"Untitled\" }) => {\n    const isVerified = id && name;\n    if (isVerified === false)\n      console.log(\n        \"id and name are the arguments both required to rename a playlist\"\n      );\n\n    const userPlaylists = [...this.state.userPlaylists];\n    const targetPlaylist = userPlaylists.find((playlist) => playlist.id === id);\n\n    if (targetPlaylist.isRenaming) return;\n\n    targetPlaylist.isRenaming = true;\n\n    this.setState({ userPlaylists: [...userPlaylists] });\n\n    let successfulRequest = false;\n\n    Spotify.renamePlaylist({ id, name, prevName })\n      .then(() => {\n        console.log(\"Playlist has been renamed\");\n\n        successfulRequest = true;\n      })\n      .catch((err) => {\n        console.log(\"Spotify error\", err.message);\n      })\n      .finally(() => {\n        const userPlaylists = [...this.state.userPlaylists];\n        const targetPlaylist = userPlaylists.find(\n          (playlist) => playlist.id === id\n        );\n\n        //true indicates the playlist has been deleted during processing the request\n        if (Boolean(targetPlaylist) === false) return;\n\n        if (successfulRequest && targetPlaylist.isRenaming) {\n          targetPlaylist.name = name;\n        }\n\n        targetPlaylist.isRenaming = false;\n\n        this.setState({ userPlaylists: [...userPlaylists] });\n      });\n  };\n\n  trackPlayButton = (track, isRepeated) => {\n    const pauseUpdate = { paused: !this.state.paused };\n    const playingTrackUpdate = {\n      playingTrack: Object.assign({}, track),\n      paused: false,\n    };\n    const state = isRepeated ? pauseUpdate : playingTrackUpdate;\n    this.setState(state);\n  };\n\n  playerPlayButton = () => this.setState({ paused: !this.state.paused });\n\n  playerNextButton = () => {\n    const { searchResults, playlistTracks, playingTrack } = this.state;\n    const lists = { searchResults, playlistTracks };\n    const listNames = Object.keys(lists);\n\n    let index;\n\n    for (const name of listNames) {\n      index = lists[name].findIndex(({ id }) => id === playingTrack.id);\n\n      if (index === -1) continue;\n\n      let nextTrack = lists[name][index + 1];\n\n      if (nextTrack) {\n        this.setState({ playingTrack: nextTrack });\n        return;\n      }\n\n      nextTrack =\n        name === \"searchResults\"\n          ? playlistTracks[0] || searchResults[0]\n          : searchResults[0] || playlistTracks[0];\n\n      this.setState({ playingTrack: nextTrack });\n      return;\n    }\n\n    // if index is still equals -1 then a new track search has occured\n    if (index === -1) {\n      this.setState({\n        playingTrack: playlistTracks[0] || searchResults[0] || \"\",\n      });\n    }\n  };\n\n  playerPlayEnded = () => this.setState({ paused: true });\n\n  onDragStart = (start) => console.log(\"onDragStart\", start);\n  onDragUpdate = (update) => {\n    console.log(\"onDragUpdate\", update);\n  };\n  onDragEnd = (ending) => {\n    console.log(\"onDragEnd\", ending);\n\n    if (ending.destination === null) return;\n\n    const { source, destination } = ending;\n    const { droppableId: sourceId, index: sourceIndex } = source;\n    const { droppableId: destId, index: destIndex } = destination;\n    const draggable = this.state[sourceId][sourceIndex];\n\n    if (sourceId !== destId) {\n      const sourceState = Array.from(this.state[sourceId]);\n      sourceState.splice(sourceIndex, 1);\n\n      const destState = Array.from(this.state[destId]);\n      destState.splice(destIndex, 0, draggable);\n\n      this.setState({\n        [sourceId]: sourceState,\n        [destId]: destState,\n      });\n\n      return;\n    }\n\n    if (sourceIndex === destIndex) return;\n\n    const sourceDroppable = Array.from(this.state[sourceId]);\n    sourceDroppable.splice(sourceIndex, 1);\n    sourceDroppable.splice(destIndex, 0, draggable);\n    this.setState({ [sourceId]: sourceDroppable });\n  };\n\n  render() {\n    const {\n      searchResults,\n      playlistName,\n      playlistTracks,\n      searchTerm,\n      paused,\n      playingTrack,\n      userPlaylists,\n      isSaving,\n      isLoading,\n      isSearching,\n      validation,\n    } = this.state;\n    const playingTrackID = paused ? \"\" : playingTrack.id;\n\n    return (\n      <DragDropContext\n        onDragStart={this.onDragStart}\n        onDragUpdate={this.onDragUpdate}\n        onDragEnd={this.onDragEnd}\n      >\n        <div>\n          <h1>\n            Tu<span className=\"highlight\">nnn</span>ing\n          </h1>\n          <div className=\"App\">\n            <SearchBar\n              searchTerm={searchTerm}\n              onSearch={this.search}\n              onChange={this.handleTermChange}\n              onKeyDown={this.getEnterDownHandler(this.search)}\n              isSearching={isSearching}\n              validation={validation}\n            />\n            <div className=\"App-bars\">\n              <SearchResults\n                results={searchResults}\n                onAdd={this.addTrack}\n                onPlayButton={this.trackPlayButton}\n                playingTrackID={playingTrackID}\n                isSearching={isSearching}\n              />\n              <Playlists\n                playlistName={playlistName}\n                defaultName={this.playlistName}\n                playlistTracks={playlistTracks}\n                playingTrackID={playingTrackID}\n                userPlaylists={userPlaylists}\n                isSaving={isSaving}\n                onRemoveTrack={this.removeTrack}\n                onNameChange={this.updatePlaylistName}\n                onKeyDown={this.getEnterDownHandler(this.savePlaylist)}\n                onPlayButton={this.trackPlayButton}\n                onLoadPlaylists={this.loadUserPlaylists}\n                onUndoPlaylist={this.undoPlaylist}\n                onRenamePlaylist={this.renameUserPlaylist}\n                onSavePlaylist={this.savePlaylist}\n                isLoading={isLoading}\n              />\n              {playingTrack && (\n                <Player\n                  paused={paused}\n                  track={playingTrack}\n                  onPlayButton={this.playerPlayButton}\n                  onNextButton={this.playerNextButton}\n                  onPlayEnded={this.playerPlayEnded}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      </DragDropContext>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./components/App/App.js\";\n\n// import reportWebVitals from './reportWebVitals'\n\n// if (process.env.NODE_ENV === 'development') {\n// const { worker, mockAuthState } = require('./mocks/browser')\n// worker.start()\n// mockAuthState()\n// }\n\nasync function main() {\n  if (window.location.pathname === \"/tunnning\") {\n    window.location.pathname = \"/tunnning/\";\n    return;\n  }\n\n  const { worker } = require(\"./mocks/browser\");\n\n  await worker.start({\n    serviceWorker: {\n      url: \"/tunnning/mockServiceWorker.js\",\n    },\n  });\n\n  ReactDOM.render(\n    <React.StrictMode>\n      <App></App>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n  );\n}\n\nmain();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals()\n","const urls = {\n  authorize: `https://accounts.spotify.com/authorize`,\n  api: \"https://api.spotify.com/v1\",\n};\n\nexport default urls;\n","const data = {\n  playlists: [\n    { id: \"1\", tracks: { total: \"11\" }, name: \"New Playlist\" },\n    { id: \"2\", tracks: { total: \"23\" }, name: \"playlist for a vacation\" },\n    { id: \"3\", tracks: { total: \"7\" }, name: \"for concentrating\" },\n  ],\n  searchResults: [\n    {\n      id: \"1\",\n      name: \"Tell Me Why\",\n      artists: [{ name: \"Cassette\" }],\n      album: { name: \"Album 1\" },\n      preview_url:\n        \"https://musify.club/track/play/17840955/cassette-tell-me-why.mp3\",\n    },\n    {\n      id: \"2\",\n      name: \"Shut Down\",\n      artists: [{ name: \"BLACKPINK\" }],\n      album: { name: \"Album 2\" },\n      preview_url:\n        \"https://39s.musify.club/get/68/26324288/65750559/1/1/0/blackpink-shut-down.mp3\",\n    },\n    {\n      id: \"3\",\n      name: \"Движ\",\n      artists: [{ name: \"Filatov & Karas\" }],\n      album: { name: \"Album 3\" },\n      preview_url:\n        \"https://40s.musify.club/get/69/26086361/65198364/1/1/0/filatov-and-karas-%d0%b4%d0%b2%d0%b8%d0%b6.mp3\",\n    },\n    {\n      id: \"4\",\n      name: \"Вода\",\n      artists: [{ name: \"Полина Гагарина\" }],\n      album: { name: \"Album 4\" },\n      preview_url:\n        \"https://musify.club/track/play/18381548/%d0%bf%d0%be%d0%bb%d0%b8%d0%bd%d0%b0-%d0%b3%d0%b0%d0%b3%d0%b0%d1%80%d0%b8%d0%bd%d0%b0-%d0%b2%d0%be%d0%b4%d0%b0.mp3\",\n    },\n    {\n      id: \"5\",\n      name: \"On Repeat\",\n      artists: [{ name: \"David Guetta ft.Robin Schulz\" }],\n      album: { name: \"Album 5\" },\n      preview_url:\n        \"https://41s.musify.club/get/68/26517248/66179552/1/1/0/robin-schulz-david-guetta-on-repeat.mp3\",\n    },\n    {\n      id: \"6\",\n      name: \"All By Myself\",\n      artists: [{ name: \"Ellie Goulding ft. Alok ft. Sigala\" }],\n      album: { name: \"Album 1\" },\n      preview_url:\n        \"https://41s.musify.club/get/69/26437186/66079558/1/1/0/alok-sigala-ellie-goulding-all-by-myself.mp3\",\n    },\n    {\n      id: \"7\",\n      name: \"Summer Really Hurt Us\",\n      artists: [{ name: \"Alma\" }],\n      album: { name: \"Album 2\" },\n      preview_url:\n        \"https://38s-a.musify.club/get/70/26380790/65847830/1/1/0/alma-summer-really-hurt-us.mp3\",\n    },\n    {\n      id: \"8\",\n      name: \"Heartbreaker\",\n      artists: [{ name: \"KDDK \" }],\n      album: { name: \"Album 3\" },\n      preview_url:\n        \"https://37s-a.musify.club/get/71/26273851/65621012/1/1/0/kddk-heartbreaker.mp3\",\n    },\n    {\n      id: \"9\",\n      name: \"Million Dollar Baby\",\n      artists: [{ name: \"Ava Max\" }],\n      album: { name: \"Album 4\" },\n      preview_url:\n        \"https://41s.musify.club/get/69/26264615/65590943/1/1/0/ava-max-million-dollar-baby.mp3\",\n    },\n    {\n      id: \"10\",\n      name: \"Если Сгорим\",\n      artists: [{ name: \"NЮ\" }],\n      album: { name: \"Album 5\" },\n      preview_url:\n        \"https://41s-a.musify.club/get/71/26718767/66559720/1/1/0/n%d1%8e-%d0%b5%d1%81%d0%bb%d0%b8-%d1%81%d0%b3%d0%be%d1%80%d0%b8%d0%bc.mp3\",\n    },\n    {\n      id: \"11\",\n      name: \"Tanimadingmi\",\n      artists: [{ name: \"Божалар ft.VIA Marokand\" }],\n      album: { name: \"Album 1\" },\n      preview_url:\n        \"https://40s-a.musify.club/get/70/24365865/61673860/1/1/0/%d0%b1%d0%be%d0%b6%d0%b0%d0%bb%d0%b0%d1%80-via-marokand-tanimadingmi.mp3\",\n    },\n    {\n      id: \"12\",\n      name: \"Повело\",\n      artists: [{ name: \"Anna Asti\" }],\n      album: { name: \"Album 2\" },\n      preview_url:\n        \"https://41s.musify.club/get/68/26023927/65080536/1/1/0/anna-asti-%d0%bf%d0%be%d0%b2%d0%b5%d0%bb%d0%be.mp3\",\n    },\n    {\n      id: \"13\",\n      name: \"2 Die 4\",\n      artists: [{ name: \"Tove Lo\" }],\n      album: { name: \"Album 3\" },\n      preview_url:\n        \"https://40s.musify.club/get/69/26217809/65506329/1/1/0/tove-lo-2-die-4.mp3\",\n    },\n    {\n      id: \"14\",\n      name: \"So Lonely\",\n      artists: [{ name: \"Kush Kush\" }],\n      album: { name: \"Album 4\" },\n      preview_url:\n        \"https://41s.musify.club/get/68/26252721/65574271/1/1/0/kush-kush-so-lonely.mp3\",\n    },\n  ],\n};\n\nexport default data;\n","import { rest } from \"msw\";\nimport urls from \"../urls\";\nimport data from \"../mockedData\";\n\nconst { searchResults } = data;\n\nconst handler = rest.get(`${urls.api}/search`, (req, res, ctx) => {\n  return res(\n    ctx.delay(2000),\n    ctx.json({ tracks: { items: [...searchResults] } })\n  );\n});\n\nexport default handler;\n","import { rest } from \"msw\";\nimport urls from \"../urls\";\nimport data from \"../mockedData\";\n\nconst { playlists } = data;\n\nconst handler = rest.get(`${urls.api}/me/playlists`, (req, res, ctx) => {\n  return res(ctx.delay(2000), ctx.json({ items: [...playlists] }));\n});\n\nexport default handler;\n","import { rest } from \"msw\";\nimport urls from \"../urls\";\nimport data from \"../mockedData\";\n\nconst { playlists } = data;\n\nconst handler = rest.put(\n  `${urls.api}/playlists/:requestId`,\n  async (req, res, ctx) => {\n    const { name } = await req.json();\n    const { requestId } = req.params;\n\n    if (requestId) {\n      const renamedPlaylist = playlists.find(({ id }) => id === requestId);\n      renamedPlaylist.name = name;\n      return res(ctx.delay(2000), ctx.status(200));\n    }\n    return res(\n      ctx.delay(2000),\n      ctx.status(400),\n      ctx.json({ errorMessage: \"Could not rename the playlist\" })\n    );\n  }\n);\n\nexport default handler;\n","import { rest } from \"msw\";\nimport urls from \"../urls\";\nimport data from \"../mockedData\";\n\nconst { playlists } = data;\n\nconst handlers = [\n  rest.get(`${urls.api}/me`, (req, res, ctx) => {\n    return res(ctx.json({ id: \"userId\" }));\n  }),\n  rest.post(`${urls.api}/users/userId/playlists`, async (req, res, ctx) => {\n    const id = String(Number.parseInt(Math.random() * 1e10, 10));\n    const { name } = await req.json();\n    playlists.push({ id, name });\n    return res(ctx.json({ id }));\n  }),\n  rest.post(`${urls.api}/playlists/:requestId/tracks`, (req, res, ctx) => {\n    const { requestId } = req.params;\n    const createdPlaylist = playlists.find(({ id }) => id === requestId);\n    const { length } = req.url.searchParams.get(\"uris\").split(\",\");\n    createdPlaylist.tracks = { total: length };\n    return res(ctx.delay(3000), ctx.json({}));\n  }),\n];\n\nexport default handlers;\n","import { rest } from \"msw\";\nimport search from \"./endpoints/search\";\nimport userPlaylists from \"./endpoints/userPlaylists\";\nimport rename from \"./endpoints/rename\";\nimport save from \"./endpoints/save\";\n\nexport const handlers = [].concat(\n  search,\n  userPlaylists,\n  rename,\n  save,\n  rest.all(\"*\", (req, res, ctx) => {\n    return req.passthrough();\n  })\n);\n","import { setupWorker } from \"msw\";\nimport { handlers } from \"./handlers\";\n\nimport \"./mockAuthState.js\";\n\nexport const worker = setupWorker(...handlers);\n"],"sourceRoot":""}